
info [Sun Feb 11 2018 21:39:31 GMT+0530 (India Standard Time)]  URL :  /api/install
info [Sun Feb 11 2018 21:39:31 GMT+0530 (India Standard Time)]  Method :  GET
info [Sun Feb 11 2018 21:39:31 GMT+0530 (India Standard Time)]  Header :  { host: 'localhost:7000',
  connection: 'keep-alive',
  'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/63.0.3239.132 Safari/537.36',
  'upgrade-insecure-requests': '1',
  accept: 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9' }
info [Sun Feb 11 2018 21:39:31 GMT+0530 (India Standard Time)]  Params :  {}
info [Sun Feb 11 2018 21:39:31 GMT+0530 (India Standard Time)]  CREATE DATABASE Ziffy;

USE Ziffy;

CREATE TABLE user_role (
	id INT NOT NULL AUTO_INCREMENT,
	role_name varchar(50) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE country (
	id INT NOT NULL AUTO_INCREMENT,
	country_name varchar(100) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE state (
	id INT NOT NULL AUTO_INCREMENT,
	country_id INT NOT NULL,
	state_name varchar(100) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE city (
	id INT NOT NULL AUTO_INCREMENT,
	state_id INT NOT NULL,
	city_name varchar(100) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE device (
	id INT NOT NULL AUTO_INCREMENT,
	device_name varchar(50) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE user_tbl (
	id INT NOT NULL AUTO_INCREMENT,
	fname varchar(50) NOT NULL,
	lname varchar(50) NOT NULL,
	gender varchar(50) NOT NULL,
	user_email varchar(100) NOT NULL,
	user_role INT NOT NULL,
	country_code INT NOT NULL,
	state_code INT NOT NULL,
	city_code INT NOT NULL,
	postal_code INT NOT NULL,
	user_name varchar(30) NOT NULL UNIQUE,
	password varchar(50) NOT NULL,
	promotion_code varchar(50) NOT NULL UNIQUE,
	PRIMARY KEY (id)
);

CREATE TABLE User_tokens (
	user_id INT NOT NULL,
	device_type INT NOT NULL,
	device_token varchar(30) NOT NULL,
	socket_token varchar(30) NOT NULL,
	PRIMARY KEY (user_id)
);

CREATE TABLE service_category (
	id INT NOT NULL AUTO_INCREMENT,
	service_name varchar(100) NOT NULL,
	unit_price INT NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE job_status (
	id INT NOT NULL AUTO_INCREMENT,
	status varchar(100) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE job_requests (
	id INT NOT NULL AUTO_INCREMENT,
	service_category INT NOT NULL,
	requested_by INT NOT NULL,
	job_status INT NOT NULL,
	job_accepter INT NOT NULL,
	job_requested_time DATETIME NOT NULL,
	job_accepted_time DATETIME NOT NULL,
	job_completed_time DATETIME NOT NULL,
	requester_comment varchar(250) NOT NULL,
	accepter_comment varchar(250) NOT NULL,
	job_location varchar(250) NOT NULL,
	job_hour INT NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE payout_details (
	id INT NOT NULL AUTO_INCREMENT,
	job_id INT NOT NULL,
	working_hours INT NOT NULL,
	payment_status INT NOT NULL,
	total_bill_amount INT NOT NULL,
	payment_mode INT NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE payment_mode (
	id INT NOT NULL AUTO_INCREMENT,
	payment_option varchar(100) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE payment_status (
	id INT NOT NULL AUTO_INCREMENT,
	status varchar(100) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE credit_available (
	id INT NOT NULL AUTO_INCREMENT,
	credit INT NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE discounts (
	id INT NOT NULL AUTO_INCREMENT,
	promo_code varchar(50) NOT NULL UNIQUE,
	expire_on DATETIME NOT NULL,
	discount_cap INT NOT NULL,
	description varchar(200) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE discount_type (
	id INT NOT NULL AUTO_INCREMENT,
	type varchar(50) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE discount_taken (
	user_id INT NOT NULL,
	redemption_date DATETIME NOT NULL,
	discount_type INT NOT NULL,
	promo_code varchar(50) NOT NULL
);

ALTER TABLE state ADD CONSTRAINT state_fk0 FOREIGN KEY (country_id) REFERENCES country(id);

ALTER TABLE city ADD CONSTRAINT city_fk0 FOREIGN KEY (state_id) REFERENCES state(id);

ALTER TABLE user_tbl ADD CONSTRAINT user_tbl_fk0 FOREIGN KEY (user_role) REFERENCES user_role(id);

ALTER TABLE user_tbl ADD CONSTRAINT user_tbl_fk1 FOREIGN KEY (country_code) REFERENCES country(id);

ALTER TABLE user_tbl ADD CONSTRAINT user_tbl_fk2 FOREIGN KEY (state_code) REFERENCES state(id);

ALTER TABLE user_tbl ADD CONSTRAINT user_tbl_fk3 FOREIGN KEY (city_code) REFERENCES city(id);

ALTER TABLE User_tokens ADD CONSTRAINT User_tokens_fk0 FOREIGN KEY (user_id) REFERENCES user_tbl(id);

ALTER TABLE User_tokens ADD CONSTRAINT User_tokens_fk1 FOREIGN KEY (device_type) REFERENCES device(id);

ALTER TABLE job_requests ADD CONSTRAINT job_requests_fk0 FOREIGN KEY (service_category) REFERENCES service_category(id);

ALTER TABLE job_requests ADD CONSTRAINT job_requests_fk1 FOREIGN KEY (requested_by) REFERENCES user_tbl(id);

ALTER TABLE job_requests ADD CONSTRAINT job_requests_fk2 FOREIGN KEY (job_status) REFERENCES job_status(id);

ALTER TABLE job_requests ADD CONSTRAINT job_requests_fk3 FOREIGN KEY (job_accepter) REFERENCES user_tbl(id);

ALTER TABLE payout_details ADD CONSTRAINT payout_details_fk0 FOREIGN KEY (job_id) REFERENCES job_requests(id);

ALTER TABLE payout_details ADD CONSTRAINT payout_details_fk1 FOREIGN KEY (payment_status) REFERENCES payment_status(id);

ALTER TABLE payout_details ADD CONSTRAINT payout_details_fk2 FOREIGN KEY (payment_mode) REFERENCES payment_mode(id);

ALTER TABLE credit_available ADD CONSTRAINT credit_available_fk0 FOREIGN KEY (id) REFERENCES user_tbl(id);

ALTER TABLE discount_taken ADD CONSTRAINT discount_taken_fk0 FOREIGN KEY (user_id) REFERENCES user_tbl(id);

ALTER TABLE discount_taken ADD CONSTRAINT discount_taken_fk1 FOREIGN KEY (discount_type) REFERENCES discount_type(id);


info [Sun Feb 11 2018 21:41:55 GMT+0530 (India Standard Time)]  URL :  /api/install
info [Sun Feb 11 2018 21:41:55 GMT+0530 (India Standard Time)]  Method :  GET
info [Sun Feb 11 2018 21:41:55 GMT+0530 (India Standard Time)]  Header :  { host: 'localhost:7000',
  connection: 'keep-alive',
  'cache-control': 'max-age=0',
  'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/63.0.3239.132 Safari/537.36',
  'upgrade-insecure-requests': '1',
  accept: 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9' }
info [Sun Feb 11 2018 21:41:55 GMT+0530 (India Standard Time)]  Params :  {}
info [Sun Feb 11 2018 21:41:55 GMT+0530 (India Standard Time)]  CREATE DATABASE Ziffy;

USE Ziffy;

CREATE TABLE user_role (
	id INT NOT NULL AUTO_INCREMENT,
	role_name varchar(50) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE country (
	id INT NOT NULL AUTO_INCREMENT,
	country_name varchar(100) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE state (
	id INT NOT NULL AUTO_INCREMENT,
	country_id INT NOT NULL,
	state_name varchar(100) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE city (
	id INT NOT NULL AUTO_INCREMENT,
	state_id INT NOT NULL,
	city_name varchar(100) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE device (
	id INT NOT NULL AUTO_INCREMENT,
	device_name varchar(50) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE user_tbl (
	id INT NOT NULL AUTO_INCREMENT,
	fname varchar(50) NOT NULL,
	lname varchar(50) NOT NULL,
	gender varchar(50) NOT NULL,
	user_email varchar(100) NOT NULL,
	user_role INT NOT NULL,
	country_code INT NOT NULL,
	state_code INT NOT NULL,
	city_code INT NOT NULL,
	postal_code INT NOT NULL,
	user_name varchar(30) NOT NULL UNIQUE,
	password varchar(50) NOT NULL,
	promotion_code varchar(50) NOT NULL UNIQUE,
	PRIMARY KEY (id)
);

CREATE TABLE User_tokens (
	user_id INT NOT NULL,
	device_type INT NOT NULL,
	device_token varchar(30) NOT NULL,
	socket_token varchar(30) NOT NULL,
	PRIMARY KEY (user_id)
);

CREATE TABLE service_category (
	id INT NOT NULL AUTO_INCREMENT,
	service_name varchar(100) NOT NULL,
	unit_price INT NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE job_status (
	id INT NOT NULL AUTO_INCREMENT,
	status varchar(100) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE job_requests (
	id INT NOT NULL AUTO_INCREMENT,
	service_category INT NOT NULL,
	requested_by INT NOT NULL,
	job_status INT NOT NULL,
	job_accepter INT NOT NULL,
	job_requested_time DATETIME NOT NULL,
	job_accepted_time DATETIME NOT NULL,
	job_completed_time DATETIME NOT NULL,
	requester_comment varchar(250) NOT NULL,
	accepter_comment varchar(250) NOT NULL,
	job_location varchar(250) NOT NULL,
	job_hour INT NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE payout_details (
	id INT NOT NULL AUTO_INCREMENT,
	job_id INT NOT NULL,
	working_hours INT NOT NULL,
	payment_status INT NOT NULL,
	total_bill_amount INT NOT NULL,
	payment_mode INT NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE payment_mode (
	id INT NOT NULL AUTO_INCREMENT,
	payment_option varchar(100) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE payment_status (
	id INT NOT NULL AUTO_INCREMENT,
	status varchar(100) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE credit_available (
	id INT NOT NULL AUTO_INCREMENT,
	credit INT NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE discounts (
	id INT NOT NULL AUTO_INCREMENT,
	promo_code varchar(50) NOT NULL UNIQUE,
	expire_on DATETIME NOT NULL,
	discount_cap INT NOT NULL,
	description varchar(200) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE discount_type (
	id INT NOT NULL AUTO_INCREMENT,
	type varchar(50) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE discount_taken (
	user_id INT NOT NULL,
	redemption_date DATETIME NOT NULL,
	discount_type INT NOT NULL,
	promo_code varchar(50) NOT NULL
);

ALTER TABLE state ADD CONSTRAINT state_fk0 FOREIGN KEY (country_id) REFERENCES country(id);

ALTER TABLE city ADD CONSTRAINT city_fk0 FOREIGN KEY (state_id) REFERENCES state(id);

ALTER TABLE user_tbl ADD CONSTRAINT user_tbl_fk0 FOREIGN KEY (user_role) REFERENCES user_role(id);

ALTER TABLE user_tbl ADD CONSTRAINT user_tbl_fk1 FOREIGN KEY (country_code) REFERENCES country(id);

ALTER TABLE user_tbl ADD CONSTRAINT user_tbl_fk2 FOREIGN KEY (state_code) REFERENCES state(id);

ALTER TABLE user_tbl ADD CONSTRAINT user_tbl_fk3 FOREIGN KEY (city_code) REFERENCES city(id);

ALTER TABLE User_tokens ADD CONSTRAINT User_tokens_fk0 FOREIGN KEY (user_id) REFERENCES user_tbl(id);

ALTER TABLE User_tokens ADD CONSTRAINT User_tokens_fk1 FOREIGN KEY (device_type) REFERENCES device(id);

ALTER TABLE job_requests ADD CONSTRAINT job_requests_fk0 FOREIGN KEY (service_category) REFERENCES service_category(id);

ALTER TABLE job_requests ADD CONSTRAINT job_requests_fk1 FOREIGN KEY (requested_by) REFERENCES user_tbl(id);

ALTER TABLE job_requests ADD CONSTRAINT job_requests_fk2 FOREIGN KEY (job_status) REFERENCES job_status(id);

ALTER TABLE job_requests ADD CONSTRAINT job_requests_fk3 FOREIGN KEY (job_accepter) REFERENCES user_tbl(id);

ALTER TABLE payout_details ADD CONSTRAINT payout_details_fk0 FOREIGN KEY (job_id) REFERENCES job_requests(id);

ALTER TABLE payout_details ADD CONSTRAINT payout_details_fk1 FOREIGN KEY (payment_status) REFERENCES payment_status(id);

ALTER TABLE payout_details ADD CONSTRAINT payout_details_fk2 FOREIGN KEY (payment_mode) REFERENCES payment_mode(id);

ALTER TABLE credit_available ADD CONSTRAINT credit_available_fk0 FOREIGN KEY (id) REFERENCES user_tbl(id);

ALTER TABLE discount_taken ADD CONSTRAINT discount_taken_fk0 FOREIGN KEY (user_id) REFERENCES user_tbl(id);

ALTER TABLE discount_taken ADD CONSTRAINT discount_taken_fk1 FOREIGN KEY (discount_type) REFERENCES discount_type(id);

info [Sun Feb 11 2018 21:41:55 GMT+0530 (India Standard Time)]  URL :  /favicon.ico
info [Sun Feb 11 2018 21:41:55 GMT+0530 (India Standard Time)]  Method :  GET
info [Sun Feb 11 2018 21:41:55 GMT+0530 (India Standard Time)]  Header :  { host: 'localhost:7000',
  connection: 'keep-alive',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/63.0.3239.132 Safari/537.36',
  accept: 'image/webp,image/apng,image/*,*/*;q=0.8',
  referer: 'http://localhost:7000/api/install',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9' }
info [Sun Feb 11 2018 21:41:55 GMT+0530 (India Standard Time)]  Params :  {}
info [Sun Feb 11 2018 21:42:06 GMT+0530 (India Standard Time)]  URL :  /api/install
info [Sun Feb 11 2018 21:42:06 GMT+0530 (India Standard Time)]  Method :  GET
info [Sun Feb 11 2018 21:42:06 GMT+0530 (India Standard Time)]  Header :  { host: 'localhost:7000',
  connection: 'keep-alive',
  'cache-control': 'max-age=0',
  'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/63.0.3239.132 Safari/537.36',
  'upgrade-insecure-requests': '1',
  accept: 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9',
  'if-none-match': '"-320654930"' }
info [Sun Feb 11 2018 21:42:06 GMT+0530 (India Standard Time)]  Params :  {}
info [Sun Feb 11 2018 21:42:06 GMT+0530 (India Standard Time)]  CREATE DATABASE Ziffy;

USE Ziffy;

CREATE TABLE user_role (
	id INT NOT NULL AUTO_INCREMENT,
	role_name varchar(50) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE country (
	id INT NOT NULL AUTO_INCREMENT,
	country_name varchar(100) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE state (
	id INT NOT NULL AUTO_INCREMENT,
	country_id INT NOT NULL,
	state_name varchar(100) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE city (
	id INT NOT NULL AUTO_INCREMENT,
	state_id INT NOT NULL,
	city_name varchar(100) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE device (
	id INT NOT NULL AUTO_INCREMENT,
	device_name varchar(50) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE user_tbl (
	id INT NOT NULL AUTO_INCREMENT,
	fname varchar(50) NOT NULL,
	lname varchar(50) NOT NULL,
	gender varchar(50) NOT NULL,
	user_email varchar(100) NOT NULL,
	user_role INT NOT NULL,
	country_code INT NOT NULL,
	state_code INT NOT NULL,
	city_code INT NOT NULL,
	postal_code INT NOT NULL,
	user_name varchar(30) NOT NULL UNIQUE,
	password varchar(50) NOT NULL,
	promotion_code varchar(50) NOT NULL UNIQUE,
	PRIMARY KEY (id)
);

CREATE TABLE User_tokens (
	user_id INT NOT NULL,
	device_type INT NOT NULL,
	device_token varchar(30) NOT NULL,
	socket_token varchar(30) NOT NULL,
	PRIMARY KEY (user_id)
);

CREATE TABLE service_category (
	id INT NOT NULL AUTO_INCREMENT,
	service_name varchar(100) NOT NULL,
	unit_price INT NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE job_status (
	id INT NOT NULL AUTO_INCREMENT,
	status varchar(100) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE job_requests (
	id INT NOT NULL AUTO_INCREMENT,
	service_category INT NOT NULL,
	requested_by INT NOT NULL,
	job_status INT NOT NULL,
	job_accepter INT NOT NULL,
	job_requested_time DATETIME NOT NULL,
	job_accepted_time DATETIME NOT NULL,
	job_completed_time DATETIME NOT NULL,
	requester_comment varchar(250) NOT NULL,
	accepter_comment varchar(250) NOT NULL,
	job_location varchar(250) NOT NULL,
	job_hour INT NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE payout_details (
	id INT NOT NULL AUTO_INCREMENT,
	job_id INT NOT NULL,
	working_hours INT NOT NULL,
	payment_status INT NOT NULL,
	total_bill_amount INT NOT NULL,
	payment_mode INT NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE payment_mode (
	id INT NOT NULL AUTO_INCREMENT,
	payment_option varchar(100) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE payment_status (
	id INT NOT NULL AUTO_INCREMENT,
	status varchar(100) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE credit_available (
	id INT NOT NULL AUTO_INCREMENT,
	credit INT NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE discounts (
	id INT NOT NULL AUTO_INCREMENT,
	promo_code varchar(50) NOT NULL UNIQUE,
	expire_on DATETIME NOT NULL,
	discount_cap INT NOT NULL,
	description varchar(200) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE discount_type (
	id INT NOT NULL AUTO_INCREMENT,
	type varchar(50) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE discount_taken (
	user_id INT NOT NULL,
	redemption_date DATETIME NOT NULL,
	discount_type INT NOT NULL,
	promo_code varchar(50) NOT NULL
);

ALTER TABLE state ADD CONSTRAINT state_fk0 FOREIGN KEY (country_id) REFERENCES country(id);

ALTER TABLE city ADD CONSTRAINT city_fk0 FOREIGN KEY (state_id) REFERENCES state(id);

ALTER TABLE user_tbl ADD CONSTRAINT user_tbl_fk0 FOREIGN KEY (user_role) REFERENCES user_role(id);

ALTER TABLE user_tbl ADD CONSTRAINT user_tbl_fk1 FOREIGN KEY (country_code) REFERENCES country(id);

ALTER TABLE user_tbl ADD CONSTRAINT user_tbl_fk2 FOREIGN KEY (state_code) REFERENCES state(id);

ALTER TABLE user_tbl ADD CONSTRAINT user_tbl_fk3 FOREIGN KEY (city_code) REFERENCES city(id);

ALTER TABLE User_tokens ADD CONSTRAINT User_tokens_fk0 FOREIGN KEY (user_id) REFERENCES user_tbl(id);

ALTER TABLE User_tokens ADD CONSTRAINT User_tokens_fk1 FOREIGN KEY (device_type) REFERENCES device(id);

ALTER TABLE job_requests ADD CONSTRAINT job_requests_fk0 FOREIGN KEY (service_category) REFERENCES service_category(id);

ALTER TABLE job_requests ADD CONSTRAINT job_requests_fk1 FOREIGN KEY (requested_by) REFERENCES user_tbl(id);

ALTER TABLE job_requests ADD CONSTRAINT job_requests_fk2 FOREIGN KEY (job_status) REFERENCES job_status(id);

ALTER TABLE job_requests ADD CONSTRAINT job_requests_fk3 FOREIGN KEY (job_accepter) REFERENCES user_tbl(id);

ALTER TABLE payout_details ADD CONSTRAINT payout_details_fk0 FOREIGN KEY (job_id) REFERENCES job_requests(id);

ALTER TABLE payout_details ADD CONSTRAINT payout_details_fk1 FOREIGN KEY (payment_status) REFERENCES payment_status(id);

ALTER TABLE payout_details ADD CONSTRAINT payout_details_fk2 FOREIGN KEY (payment_mode) REFERENCES payment_mode(id);

ALTER TABLE credit_available ADD CONSTRAINT credit_available_fk0 FOREIGN KEY (id) REFERENCES user_tbl(id);

ALTER TABLE discount_taken ADD CONSTRAINT discount_taken_fk0 FOREIGN KEY (user_id) REFERENCES user_tbl(id);

ALTER TABLE discount_taken ADD CONSTRAINT discount_taken_fk1 FOREIGN KEY (discount_type) REFERENCES discount_type(id);

info [Sun Feb 11 2018 21:43:08 GMT+0530 (India Standard Time)]  URL :  /api/install
info [Sun Feb 11 2018 21:43:08 GMT+0530 (India Standard Time)]  Method :  GET
info [Sun Feb 11 2018 21:43:08 GMT+0530 (India Standard Time)]  Header :  { host: 'localhost:7000',
  connection: 'keep-alive',
  'cache-control': 'max-age=0',
  'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/63.0.3239.132 Safari/537.36',
  'upgrade-insecure-requests': '1',
  accept: 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9',
  'if-none-match': '"-320654930"' }
info [Sun Feb 11 2018 21:43:08 GMT+0530 (India Standard Time)]  Params :  {}
info [Sun Feb 11 2018 21:43:09 GMT+0530 (India Standard Time)]  CREATE DATABASE Ziffy;

USE Ziffy;

CREATE TABLE user_role (
	id INT NOT NULL AUTO_INCREMENT,
	role_name varchar(50) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE country (
	id INT NOT NULL AUTO_INCREMENT,
	country_name varchar(100) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE state (
	id INT NOT NULL AUTO_INCREMENT,
	country_id INT NOT NULL,
	state_name varchar(100) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE city (
	id INT NOT NULL AUTO_INCREMENT,
	state_id INT NOT NULL,
	city_name varchar(100) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE device (
	id INT NOT NULL AUTO_INCREMENT,
	device_name varchar(50) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE user_tbl (
	id INT NOT NULL AUTO_INCREMENT,
	fname varchar(50) NOT NULL,
	lname varchar(50) NOT NULL,
	gender varchar(50) NOT NULL,
	user_email varchar(100) NOT NULL,
	user_role INT NOT NULL,
	country_code INT NOT NULL,
	state_code INT NOT NULL,
	city_code INT NOT NULL,
	postal_code INT NOT NULL,
	user_name varchar(30) NOT NULL UNIQUE,
	password varchar(50) NOT NULL,
	promotion_code varchar(50) NOT NULL UNIQUE,
	PRIMARY KEY (id)
);

CREATE TABLE User_tokens (
	user_id INT NOT NULL,
	device_type INT NOT NULL,
	device_token varchar(30) NOT NULL,
	socket_token varchar(30) NOT NULL,
	PRIMARY KEY (user_id)
);

CREATE TABLE service_category (
	id INT NOT NULL AUTO_INCREMENT,
	service_name varchar(100) NOT NULL,
	unit_price INT NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE job_status (
	id INT NOT NULL AUTO_INCREMENT,
	status varchar(100) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE job_requests (
	id INT NOT NULL AUTO_INCREMENT,
	service_category INT NOT NULL,
	requested_by INT NOT NULL,
	job_status INT NOT NULL,
	job_accepter INT NOT NULL,
	job_requested_time DATETIME NOT NULL,
	job_accepted_time DATETIME NOT NULL,
	job_completed_time DATETIME NOT NULL,
	requester_comment varchar(250) NOT NULL,
	accepter_comment varchar(250) NOT NULL,
	job_location varchar(250) NOT NULL,
	job_hour INT NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE payout_details (
	id INT NOT NULL AUTO_INCREMENT,
	job_id INT NOT NULL,
	working_hours INT NOT NULL,
	payment_status INT NOT NULL,
	total_bill_amount INT NOT NULL,
	payment_mode INT NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE payment_mode (
	id INT NOT NULL AUTO_INCREMENT,
	payment_option varchar(100) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE payment_status (
	id INT NOT NULL AUTO_INCREMENT,
	status varchar(100) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE credit_available (
	id INT NOT NULL AUTO_INCREMENT,
	credit INT NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE discounts (
	id INT NOT NULL AUTO_INCREMENT,
	promo_code varchar(50) NOT NULL UNIQUE,
	expire_on DATETIME NOT NULL,
	discount_cap INT NOT NULL,
	description varchar(200) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE discount_type (
	id INT NOT NULL AUTO_INCREMENT,
	type varchar(50) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE discount_taken (
	user_id INT NOT NULL,
	redemption_date DATETIME NOT NULL,
	discount_type INT NOT NULL,
	promo_code varchar(50) NOT NULL
);

ALTER TABLE state ADD CONSTRAINT state_fk0 FOREIGN KEY (country_id) REFERENCES country(id);

ALTER TABLE city ADD CONSTRAINT city_fk0 FOREIGN KEY (state_id) REFERENCES state(id);

ALTER TABLE user_tbl ADD CONSTRAINT user_tbl_fk0 FOREIGN KEY (user_role) REFERENCES user_role(id);

ALTER TABLE user_tbl ADD CONSTRAINT user_tbl_fk1 FOREIGN KEY (country_code) REFERENCES country(id);

ALTER TABLE user_tbl ADD CONSTRAINT user_tbl_fk2 FOREIGN KEY (state_code) REFERENCES state(id);

ALTER TABLE user_tbl ADD CONSTRAINT user_tbl_fk3 FOREIGN KEY (city_code) REFERENCES city(id);

ALTER TABLE User_tokens ADD CONSTRAINT User_tokens_fk0 FOREIGN KEY (user_id) REFERENCES user_tbl(id);

ALTER TABLE User_tokens ADD CONSTRAINT User_tokens_fk1 FOREIGN KEY (device_type) REFERENCES device(id);

ALTER TABLE job_requests ADD CONSTRAINT job_requests_fk0 FOREIGN KEY (service_category) REFERENCES service_category(id);

ALTER TABLE job_requests ADD CONSTRAINT job_requests_fk1 FOREIGN KEY (requested_by) REFERENCES user_tbl(id);

ALTER TABLE job_requests ADD CONSTRAINT job_requests_fk2 FOREIGN KEY (job_status) REFERENCES job_status(id);

ALTER TABLE job_requests ADD CONSTRAINT job_requests_fk3 FOREIGN KEY (job_accepter) REFERENCES user_tbl(id);

ALTER TABLE payout_details ADD CONSTRAINT payout_details_fk0 FOREIGN KEY (job_id) REFERENCES job_requests(id);

ALTER TABLE payout_details ADD CONSTRAINT payout_details_fk1 FOREIGN KEY (payment_status) REFERENCES payment_status(id);

ALTER TABLE payout_details ADD CONSTRAINT payout_details_fk2 FOREIGN KEY (payment_mode) REFERENCES payment_mode(id);

ALTER TABLE credit_available ADD CONSTRAINT credit_available_fk0 FOREIGN KEY (id) REFERENCES user_tbl(id);

ALTER TABLE discount_taken ADD CONSTRAINT discount_taken_fk0 FOREIGN KEY (user_id) REFERENCES user_tbl(id);

ALTER TABLE discount_taken ADD CONSTRAINT discount_taken_fk1 FOREIGN KEY (discount_type) REFERENCES discount_type(id);


info [Sun Feb 11 2018 21:50:18 GMT+0530 (India Standard Time)]  URL :  /api/install
info [Sun Feb 11 2018 21:50:18 GMT+0530 (India Standard Time)]  Method :  GET
info [Sun Feb 11 2018 21:50:18 GMT+0530 (India Standard Time)]  Header :  { host: 'localhost:7000',
  connection: 'keep-alive',
  'cache-control': 'max-age=0',
  'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/63.0.3239.132 Safari/537.36',
  'upgrade-insecure-requests': '1',
  accept: 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9',
  'if-none-match': '"-320654930"' }
info [Sun Feb 11 2018 21:50:18 GMT+0530 (India Standard Time)]  Params :  {}
info [Sun Feb 11 2018 21:50:18 GMT+0530 (India Standard Time)]  CREATE DATABASE Ziffy;

USE Ziffy;

CREATE TABLE user_role (
	id INT NOT NULL AUTO_INCREMENT,
	role_name varchar(50) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE country (
	id INT NOT NULL AUTO_INCREMENT,
	country_name varchar(100) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE state (
	id INT NOT NULL AUTO_INCREMENT,
	country_id INT NOT NULL,
	state_name varchar(100) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE city (
	id INT NOT NULL AUTO_INCREMENT,
	state_id INT NOT NULL,
	city_name varchar(100) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE device (
	id INT NOT NULL AUTO_INCREMENT,
	device_name varchar(50) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE user_tbl (
	id INT NOT NULL AUTO_INCREMENT,
	fname varchar(50) NOT NULL,
	lname varchar(50) NOT NULL,
	gender varchar(50) NOT NULL,
	user_email varchar(100) NOT NULL,
	user_role INT NOT NULL,
	country_code INT NOT NULL,
	state_code INT NOT NULL,
	city_code INT NOT NULL,
	postal_code INT NOT NULL,
	user_name varchar(30) NOT NULL UNIQUE,
	password varchar(50) NOT NULL,
	promotion_code varchar(50) NOT NULL UNIQUE,
	PRIMARY KEY (id)
);

CREATE TABLE User_tokens (
	user_id INT NOT NULL,
	device_type INT NOT NULL,
	device_token varchar(30) NOT NULL,
	socket_token varchar(30) NOT NULL,
	PRIMARY KEY (user_id)
);

CREATE TABLE service_category (
	id INT NOT NULL AUTO_INCREMENT,
	service_name varchar(100) NOT NULL,
	unit_price INT NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE job_status (
	id INT NOT NULL AUTO_INCREMENT,
	status varchar(100) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE job_requests (
	id INT NOT NULL AUTO_INCREMENT,
	service_category INT NOT NULL,
	requested_by INT NOT NULL,
	job_status INT NOT NULL,
	job_accepter INT NOT NULL,
	job_requested_time DATETIME NOT NULL,
	job_accepted_time DATETIME NOT NULL,
	job_completed_time DATETIME NOT NULL,
	requester_comment varchar(250) NOT NULL,
	accepter_comment varchar(250) NOT NULL,
	job_location varchar(250) NOT NULL,
	job_hour INT NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE payout_details (
	id INT NOT NULL AUTO_INCREMENT,
	job_id INT NOT NULL,
	working_hours INT NOT NULL,
	payment_status INT NOT NULL,
	total_bill_amount INT NOT NULL,
	payment_mode INT NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE payment_mode (
	id INT NOT NULL AUTO_INCREMENT,
	payment_option varchar(100) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE payment_status (
	id INT NOT NULL AUTO_INCREMENT,
	status varchar(100) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE credit_available (
	id INT NOT NULL AUTO_INCREMENT,
	credit INT NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE discounts (
	id INT NOT NULL AUTO_INCREMENT,
	promo_code varchar(50) NOT NULL UNIQUE,
	expire_on DATETIME NOT NULL,
	discount_cap INT NOT NULL,
	description varchar(200) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE discount_type (
	id INT NOT NULL AUTO_INCREMENT,
	type varchar(50) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE discount_taken (
	user_id INT NOT NULL,
	redemption_date DATETIME NOT NULL,
	discount_type INT NOT NULL,
	promo_code varchar(50) NOT NULL
);

ALTER TABLE state ADD CONSTRAINT state_fk0 FOREIGN KEY (country_id) REFERENCES country(id);

ALTER TABLE city ADD CONSTRAINT city_fk0 FOREIGN KEY (state_id) REFERENCES state(id);

ALTER TABLE user_tbl ADD CONSTRAINT user_tbl_fk0 FOREIGN KEY (user_role) REFERENCES user_role(id);

ALTER TABLE user_tbl ADD CONSTRAINT user_tbl_fk1 FOREIGN KEY (country_code) REFERENCES country(id);

ALTER TABLE user_tbl ADD CONSTRAINT user_tbl_fk2 FOREIGN KEY (state_code) REFERENCES state(id);

ALTER TABLE user_tbl ADD CONSTRAINT user_tbl_fk3 FOREIGN KEY (city_code) REFERENCES city(id);

ALTER TABLE User_tokens ADD CONSTRAINT User_tokens_fk0 FOREIGN KEY (user_id) REFERENCES user_tbl(id);

ALTER TABLE User_tokens ADD CONSTRAINT User_tokens_fk1 FOREIGN KEY (device_type) REFERENCES device(id);

ALTER TABLE job_requests ADD CONSTRAINT job_requests_fk0 FOREIGN KEY (service_category) REFERENCES service_category(id);

ALTER TABLE job_requests ADD CONSTRAINT job_requests_fk1 FOREIGN KEY (requested_by) REFERENCES user_tbl(id);

ALTER TABLE job_requests ADD CONSTRAINT job_requests_fk2 FOREIGN KEY (job_status) REFERENCES job_status(id);

ALTER TABLE job_requests ADD CONSTRAINT job_requests_fk3 FOREIGN KEY (job_accepter) REFERENCES user_tbl(id);

ALTER TABLE payout_details ADD CONSTRAINT payout_details_fk0 FOREIGN KEY (job_id) REFERENCES job_requests(id);

ALTER TABLE payout_details ADD CONSTRAINT payout_details_fk1 FOREIGN KEY (payment_status) REFERENCES payment_status(id);

ALTER TABLE payout_details ADD CONSTRAINT payout_details_fk2 FOREIGN KEY (payment_mode) REFERENCES payment_mode(id);

ALTER TABLE credit_available ADD CONSTRAINT credit_available_fk0 FOREIGN KEY (id) REFERENCES user_tbl(id);

ALTER TABLE discount_taken ADD CONSTRAINT discount_taken_fk0 FOREIGN KEY (user_id) REFERENCES user_tbl(id);

ALTER TABLE discount_taken ADD CONSTRAINT discount_taken_fk1 FOREIGN KEY (discount_type) REFERENCES discount_type(id);

info [Sun Feb 11 2018 21:51:14 GMT+0530 (India Standard Time)]  URL :  /api/install
info [Sun Feb 11 2018 21:51:14 GMT+0530 (India Standard Time)]  Method :  GET
info [Sun Feb 11 2018 21:51:14 GMT+0530 (India Standard Time)]  Header :  { host: 'localhost:7000',
  connection: 'keep-alive',
  'cache-control': 'max-age=0',
  'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/63.0.3239.132 Safari/537.36',
  'upgrade-insecure-requests': '1',
  accept: 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9',
  'if-none-match': '"-869234554"' }
info [Sun Feb 11 2018 21:51:14 GMT+0530 (India Standard Time)]  Params :  {}
info [Sun Feb 11 2018 21:51:14 GMT+0530 (India Standard Time)]  CREATE DATABASE Ziffy;

USE Ziffy;

CREATE TABLE user_role (
	id INT NOT NULL AUTO_INCREMENT,
	role_name varchar(50) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE country (
	id INT NOT NULL AUTO_INCREMENT,
	country_name varchar(100) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE state (
	id INT NOT NULL AUTO_INCREMENT,
	country_id INT NOT NULL,
	state_name varchar(100) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE city (
	id INT NOT NULL AUTO_INCREMENT,
	state_id INT NOT NULL,
	city_name varchar(100) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE device (
	id INT NOT NULL AUTO_INCREMENT,
	device_name varchar(50) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE user_tbl (
	id INT NOT NULL AUTO_INCREMENT,
	fname varchar(50) NOT NULL,
	lname varchar(50) NOT NULL,
	gender varchar(50) NOT NULL,
	user_email varchar(100) NOT NULL,
	user_role INT NOT NULL,
	country_code INT NOT NULL,
	state_code INT NOT NULL,
	city_code INT NOT NULL,
	postal_code INT NOT NULL,
	user_name varchar(30) NOT NULL UNIQUE,
	password varchar(50) NOT NULL,
	promotion_code varchar(50) NOT NULL UNIQUE,
	PRIMARY KEY (id)
);

CREATE TABLE User_tokens (
	user_id INT NOT NULL,
	device_type INT NOT NULL,
	device_token varchar(30) NOT NULL,
	socket_token varchar(30) NOT NULL,
	PRIMARY KEY (user_id)
);

CREATE TABLE service_category (
	id INT NOT NULL AUTO_INCREMENT,
	service_name varchar(100) NOT NULL,
	unit_price INT NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE job_status (
	id INT NOT NULL AUTO_INCREMENT,
	status varchar(100) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE job_requests (
	id INT NOT NULL AUTO_INCREMENT,
	service_category INT NOT NULL,
	requested_by INT NOT NULL,
	job_status INT NOT NULL,
	job_accepter INT NOT NULL,
	job_requested_time DATETIME NOT NULL,
	job_accepted_time DATETIME NOT NULL,
	job_completed_time DATETIME NOT NULL,
	requester_comment varchar(250) NOT NULL,
	accepter_comment varchar(250) NOT NULL,
	job_location varchar(250) NOT NULL,
	job_hour INT NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE payout_details (
	id INT NOT NULL AUTO_INCREMENT,
	job_id INT NOT NULL,
	working_hours INT NOT NULL,
	payment_status INT NOT NULL,
	total_bill_amount INT NOT NULL,
	payment_mode INT NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE payment_mode (
	id INT NOT NULL AUTO_INCREMENT,
	payment_option varchar(100) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE payment_status (
	id INT NOT NULL AUTO_INCREMENT,
	status varchar(100) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE credit_available (
	id INT NOT NULL AUTO_INCREMENT,
	credit INT NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE discounts (
	id INT NOT NULL AUTO_INCREMENT,
	promo_code varchar(50) NOT NULL UNIQUE,
	expire_on DATETIME NOT NULL,
	discount_cap INT NOT NULL,
	description varchar(200) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE discount_type (
	id INT NOT NULL AUTO_INCREMENT,
	type varchar(50) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE discount_taken (
	user_id INT NOT NULL,
	redemption_date DATETIME NOT NULL,
	discount_type INT NOT NULL,
	promo_code varchar(50) NOT NULL
);

ALTER TABLE state ADD CONSTRAINT state_fk0 FOREIGN KEY (country_id) REFERENCES country(id);

ALTER TABLE city ADD CONSTRAINT city_fk0 FOREIGN KEY (state_id) REFERENCES state(id);

ALTER TABLE user_tbl ADD CONSTRAINT user_tbl_fk0 FOREIGN KEY (user_role) REFERENCES user_role(id);

ALTER TABLE user_tbl ADD CONSTRAINT user_tbl_fk1 FOREIGN KEY (country_code) REFERENCES country(id);

ALTER TABLE user_tbl ADD CONSTRAINT user_tbl_fk2 FOREIGN KEY (state_code) REFERENCES state(id);

ALTER TABLE user_tbl ADD CONSTRAINT user_tbl_fk3 FOREIGN KEY (city_code) REFERENCES city(id);

ALTER TABLE User_tokens ADD CONSTRAINT User_tokens_fk0 FOREIGN KEY (user_id) REFERENCES user_tbl(id);

ALTER TABLE User_tokens ADD CONSTRAINT User_tokens_fk1 FOREIGN KEY (device_type) REFERENCES device(id);

ALTER TABLE job_requests ADD CONSTRAINT job_requests_fk0 FOREIGN KEY (service_category) REFERENCES service_category(id);

ALTER TABLE job_requests ADD CONSTRAINT job_requests_fk1 FOREIGN KEY (requested_by) REFERENCES user_tbl(id);

ALTER TABLE job_requests ADD CONSTRAINT job_requests_fk2 FOREIGN KEY (job_status) REFERENCES job_status(id);

ALTER TABLE job_requests ADD CONSTRAINT job_requests_fk3 FOREIGN KEY (job_accepter) REFERENCES user_tbl(id);

ALTER TABLE payout_details ADD CONSTRAINT payout_details_fk0 FOREIGN KEY (job_id) REFERENCES job_requests(id);

ALTER TABLE payout_details ADD CONSTRAINT payout_details_fk1 FOREIGN KEY (payment_status) REFERENCES payment_status(id);

ALTER TABLE payout_details ADD CONSTRAINT payout_details_fk2 FOREIGN KEY (payment_mode) REFERENCES payment_mode(id);

ALTER TABLE credit_available ADD CONSTRAINT credit_available_fk0 FOREIGN KEY (id) REFERENCES user_tbl(id);

ALTER TABLE discount_taken ADD CONSTRAINT discount_taken_fk0 FOREIGN KEY (user_id) REFERENCES user_tbl(id);

ALTER TABLE discount_taken ADD CONSTRAINT discount_taken_fk1 FOREIGN KEY (discount_type) REFERENCES discount_type(id);


info [Sun Feb 11 2018 21:52:10 GMT+0530 (India Standard Time)]  URL :  /api/install
info [Sun Feb 11 2018 21:52:10 GMT+0530 (India Standard Time)]  Method :  GET
info [Sun Feb 11 2018 21:52:10 GMT+0530 (India Standard Time)]  Header :  { host: 'localhost:7000',
  connection: 'keep-alive',
  'cache-control': 'max-age=0',
  'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/63.0.3239.132 Safari/537.36',
  'upgrade-insecure-requests': '1',
  accept: 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9',
  'if-none-match': '"2093434696"' }
info [Sun Feb 11 2018 21:52:10 GMT+0530 (India Standard Time)]  Params :  {}
info [Sun Feb 11 2018 21:52:10 GMT+0530 (India Standard Time)]  CREATE DATABASE Ziffy;

USE Ziffy;

CREATE TABLE user_role (
	id INT NOT NULL AUTO_INCREMENT,
	role_name varchar(50) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE country (
	id INT NOT NULL AUTO_INCREMENT,
	country_name varchar(100) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE state (
	id INT NOT NULL AUTO_INCREMENT,
	country_id INT NOT NULL,
	state_name varchar(100) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE city (
	id INT NOT NULL AUTO_INCREMENT,
	state_id INT NOT NULL,
	city_name varchar(100) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE device (
	id INT NOT NULL AUTO_INCREMENT,
	device_name varchar(50) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE user_tbl (
	id INT NOT NULL AUTO_INCREMENT,
	fname varchar(50) NOT NULL,
	lname varchar(50) NOT NULL,
	gender varchar(50) NOT NULL,
	user_email varchar(100) NOT NULL,
	user_role INT NOT NULL,
	country_code INT NOT NULL,
	state_code INT NOT NULL,
	city_code INT NOT NULL,
	postal_code INT NOT NULL,
	user_name varchar(30) NOT NULL UNIQUE,
	password varchar(50) NOT NULL,
	promotion_code varchar(50) NOT NULL UNIQUE,
	PRIMARY KEY (id)
);

CREATE TABLE User_tokens (
	user_id INT NOT NULL,
	device_type INT NOT NULL,
	device_token varchar(30) NOT NULL,
	socket_token varchar(30) NOT NULL,
	PRIMARY KEY (user_id)
);

CREATE TABLE service_category (
	id INT NOT NULL AUTO_INCREMENT,
	service_name varchar(100) NOT NULL,
	unit_price INT NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE job_status (
	id INT NOT NULL AUTO_INCREMENT,
	status varchar(100) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE job_requests (
	id INT NOT NULL AUTO_INCREMENT,
	service_category INT NOT NULL,
	requested_by INT NOT NULL,
	job_status INT NOT NULL,
	job_accepter INT NOT NULL,
	job_requested_time DATETIME NOT NULL,
	job_accepted_time DATETIME NOT NULL,
	job_completed_time DATETIME NOT NULL,
	requester_comment varchar(250) NOT NULL,
	accepter_comment varchar(250) NOT NULL,
	job_location varchar(250) NOT NULL,
	job_hour INT NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE payout_details (
	id INT NOT NULL AUTO_INCREMENT,
	job_id INT NOT NULL,
	working_hours INT NOT NULL,
	payment_status INT NOT NULL,
	total_bill_amount INT NOT NULL,
	payment_mode INT NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE payment_mode (
	id INT NOT NULL AUTO_INCREMENT,
	payment_option varchar(100) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE payment_status (
	id INT NOT NULL AUTO_INCREMENT,
	status varchar(100) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE credit_available (
	id INT NOT NULL AUTO_INCREMENT,
	credit INT NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE discounts (
	id INT NOT NULL AUTO_INCREMENT,
	promo_code varchar(50) NOT NULL UNIQUE,
	expire_on DATETIME NOT NULL,
	discount_cap INT NOT NULL,
	description varchar(200) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE discount_type (
	id INT NOT NULL AUTO_INCREMENT,
	type varchar(50) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE discount_taken (
	user_id INT NOT NULL,
	redemption_date DATETIME NOT NULL,
	discount_type INT NOT NULL,
	promo_code varchar(50) NOT NULL
);

ALTER TABLE state ADD CONSTRAINT state_fk0 FOREIGN KEY (country_id) REFERENCES country(id);

ALTER TABLE city ADD CONSTRAINT city_fk0 FOREIGN KEY (state_id) REFERENCES state(id);

ALTER TABLE user_tbl ADD CONSTRAINT user_tbl_fk0 FOREIGN KEY (user_role) REFERENCES user_role(id);

ALTER TABLE user_tbl ADD CONSTRAINT user_tbl_fk1 FOREIGN KEY (country_code) REFERENCES country(id);

ALTER TABLE user_tbl ADD CONSTRAINT user_tbl_fk2 FOREIGN KEY (state_code) REFERENCES state(id);

ALTER TABLE user_tbl ADD CONSTRAINT user_tbl_fk3 FOREIGN KEY (city_code) REFERENCES city(id);

ALTER TABLE User_tokens ADD CONSTRAINT User_tokens_fk0 FOREIGN KEY (user_id) REFERENCES user_tbl(id);

ALTER TABLE User_tokens ADD CONSTRAINT User_tokens_fk1 FOREIGN KEY (device_type) REFERENCES device(id);

ALTER TABLE job_requests ADD CONSTRAINT job_requests_fk0 FOREIGN KEY (service_category) REFERENCES service_category(id);

ALTER TABLE job_requests ADD CONSTRAINT job_requests_fk1 FOREIGN KEY (requested_by) REFERENCES user_tbl(id);

ALTER TABLE job_requests ADD CONSTRAINT job_requests_fk2 FOREIGN KEY (job_status) REFERENCES job_status(id);

ALTER TABLE job_requests ADD CONSTRAINT job_requests_fk3 FOREIGN KEY (job_accepter) REFERENCES user_tbl(id);

ALTER TABLE payout_details ADD CONSTRAINT payout_details_fk0 FOREIGN KEY (job_id) REFERENCES job_requests(id);

ALTER TABLE payout_details ADD CONSTRAINT payout_details_fk1 FOREIGN KEY (payment_status) REFERENCES payment_status(id);

ALTER TABLE payout_details ADD CONSTRAINT payout_details_fk2 FOREIGN KEY (payment_mode) REFERENCES payment_mode(id);

ALTER TABLE credit_available ADD CONSTRAINT credit_available_fk0 FOREIGN KEY (id) REFERENCES user_tbl(id);

ALTER TABLE discount_taken ADD CONSTRAINT discount_taken_fk0 FOREIGN KEY (user_id) REFERENCES user_tbl(id);

ALTER TABLE discount_taken ADD CONSTRAINT discount_taken_fk1 FOREIGN KEY (discount_type) REFERENCES discount_type(id);

info [Sun Feb 11 2018 21:52:11 GMT+0530 (India Standard Time)]  URL :  /api/install
info [Sun Feb 11 2018 21:52:11 GMT+0530 (India Standard Time)]  Method :  GET
info [Sun Feb 11 2018 21:52:11 GMT+0530 (India Standard Time)]  Header :  { host: 'localhost:7000',
  connection: 'keep-alive',
  'cache-control': 'max-age=0',
  'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/63.0.3239.132 Safari/537.36',
  'upgrade-insecure-requests': '1',
  accept: 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9',
  'if-none-match': '"2093434696"' }
info [Sun Feb 11 2018 21:52:11 GMT+0530 (India Standard Time)]  Params :  {}
info [Sun Feb 11 2018 21:52:11 GMT+0530 (India Standard Time)]  CREATE DATABASE Ziffy;

USE Ziffy;

CREATE TABLE user_role (
	id INT NOT NULL AUTO_INCREMENT,
	role_name varchar(50) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE country (
	id INT NOT NULL AUTO_INCREMENT,
	country_name varchar(100) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE state (
	id INT NOT NULL AUTO_INCREMENT,
	country_id INT NOT NULL,
	state_name varchar(100) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE city (
	id INT NOT NULL AUTO_INCREMENT,
	state_id INT NOT NULL,
	city_name varchar(100) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE device (
	id INT NOT NULL AUTO_INCREMENT,
	device_name varchar(50) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE user_tbl (
	id INT NOT NULL AUTO_INCREMENT,
	fname varchar(50) NOT NULL,
	lname varchar(50) NOT NULL,
	gender varchar(50) NOT NULL,
	user_email varchar(100) NOT NULL,
	user_role INT NOT NULL,
	country_code INT NOT NULL,
	state_code INT NOT NULL,
	city_code INT NOT NULL,
	postal_code INT NOT NULL,
	user_name varchar(30) NOT NULL UNIQUE,
	password varchar(50) NOT NULL,
	promotion_code varchar(50) NOT NULL UNIQUE,
	PRIMARY KEY (id)
);

CREATE TABLE User_tokens (
	user_id INT NOT NULL,
	device_type INT NOT NULL,
	device_token varchar(30) NOT NULL,
	socket_token varchar(30) NOT NULL,
	PRIMARY KEY (user_id)
);

CREATE TABLE service_category (
	id INT NOT NULL AUTO_INCREMENT,
	service_name varchar(100) NOT NULL,
	unit_price INT NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE job_status (
	id INT NOT NULL AUTO_INCREMENT,
	status varchar(100) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE job_requests (
	id INT NOT NULL AUTO_INCREMENT,
	service_category INT NOT NULL,
	requested_by INT NOT NULL,
	job_status INT NOT NULL,
	job_accepter INT NOT NULL,
	job_requested_time DATETIME NOT NULL,
	job_accepted_time DATETIME NOT NULL,
	job_completed_time DATETIME NOT NULL,
	requester_comment varchar(250) NOT NULL,
	accepter_comment varchar(250) NOT NULL,
	job_location varchar(250) NOT NULL,
	job_hour INT NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE payout_details (
	id INT NOT NULL AUTO_INCREMENT,
	job_id INT NOT NULL,
	working_hours INT NOT NULL,
	payment_status INT NOT NULL,
	total_bill_amount INT NOT NULL,
	payment_mode INT NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE payment_mode (
	id INT NOT NULL AUTO_INCREMENT,
	payment_option varchar(100) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE payment_status (
	id INT NOT NULL AUTO_INCREMENT,
	status varchar(100) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE credit_available (
	id INT NOT NULL AUTO_INCREMENT,
	credit INT NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE discounts (
	id INT NOT NULL AUTO_INCREMENT,
	promo_code varchar(50) NOT NULL UNIQUE,
	expire_on DATETIME NOT NULL,
	discount_cap INT NOT NULL,
	description varchar(200) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE discount_type (
	id INT NOT NULL AUTO_INCREMENT,
	type varchar(50) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE discount_taken (
	user_id INT NOT NULL,
	redemption_date DATETIME NOT NULL,
	discount_type INT NOT NULL,
	promo_code varchar(50) NOT NULL
);

ALTER TABLE state ADD CONSTRAINT state_fk0 FOREIGN KEY (country_id) REFERENCES country(id);

ALTER TABLE city ADD CONSTRAINT city_fk0 FOREIGN KEY (state_id) REFERENCES state(id);

ALTER TABLE user_tbl ADD CONSTRAINT user_tbl_fk0 FOREIGN KEY (user_role) REFERENCES user_role(id);

ALTER TABLE user_tbl ADD CONSTRAINT user_tbl_fk1 FOREIGN KEY (country_code) REFERENCES country(id);

ALTER TABLE user_tbl ADD CONSTRAINT user_tbl_fk2 FOREIGN KEY (state_code) REFERENCES state(id);

ALTER TABLE user_tbl ADD CONSTRAINT user_tbl_fk3 FOREIGN KEY (city_code) REFERENCES city(id);

ALTER TABLE User_tokens ADD CONSTRAINT User_tokens_fk0 FOREIGN KEY (user_id) REFERENCES user_tbl(id);

ALTER TABLE User_tokens ADD CONSTRAINT User_tokens_fk1 FOREIGN KEY (device_type) REFERENCES device(id);

ALTER TABLE job_requests ADD CONSTRAINT job_requests_fk0 FOREIGN KEY (service_category) REFERENCES service_category(id);

ALTER TABLE job_requests ADD CONSTRAINT job_requests_fk1 FOREIGN KEY (requested_by) REFERENCES user_tbl(id);

ALTER TABLE job_requests ADD CONSTRAINT job_requests_fk2 FOREIGN KEY (job_status) REFERENCES job_status(id);

ALTER TABLE job_requests ADD CONSTRAINT job_requests_fk3 FOREIGN KEY (job_accepter) REFERENCES user_tbl(id);

ALTER TABLE payout_details ADD CONSTRAINT payout_details_fk0 FOREIGN KEY (job_id) REFERENCES job_requests(id);

ALTER TABLE payout_details ADD CONSTRAINT payout_details_fk1 FOREIGN KEY (payment_status) REFERENCES payment_status(id);

ALTER TABLE payout_details ADD CONSTRAINT payout_details_fk2 FOREIGN KEY (payment_mode) REFERENCES payment_mode(id);

ALTER TABLE credit_available ADD CONSTRAINT credit_available_fk0 FOREIGN KEY (id) REFERENCES user_tbl(id);

ALTER TABLE discount_taken ADD CONSTRAINT discount_taken_fk0 FOREIGN KEY (user_id) REFERENCES user_tbl(id);

ALTER TABLE discount_taken ADD CONSTRAINT discount_taken_fk1 FOREIGN KEY (discount_type) REFERENCES discount_type(id);

info [Sun Feb 11 2018 21:52:11 GMT+0530 (India Standard Time)]  URL :  /api/install
info [Sun Feb 11 2018 21:52:11 GMT+0530 (India Standard Time)]  Method :  GET
info [Sun Feb 11 2018 21:52:11 GMT+0530 (India Standard Time)]  Header :  { host: 'localhost:7000',
  connection: 'keep-alive',
  'cache-control': 'max-age=0',
  'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/63.0.3239.132 Safari/537.36',
  'upgrade-insecure-requests': '1',
  accept: 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9',
  'if-none-match': '"2093434696"' }
info [Sun Feb 11 2018 21:52:11 GMT+0530 (India Standard Time)]  Params :  {}
info [Sun Feb 11 2018 21:52:11 GMT+0530 (India Standard Time)]  CREATE DATABASE Ziffy;

USE Ziffy;

CREATE TABLE user_role (
	id INT NOT NULL AUTO_INCREMENT,
	role_name varchar(50) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE country (
	id INT NOT NULL AUTO_INCREMENT,
	country_name varchar(100) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE state (
	id INT NOT NULL AUTO_INCREMENT,
	country_id INT NOT NULL,
	state_name varchar(100) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE city (
	id INT NOT NULL AUTO_INCREMENT,
	state_id INT NOT NULL,
	city_name varchar(100) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE device (
	id INT NOT NULL AUTO_INCREMENT,
	device_name varchar(50) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE user_tbl (
	id INT NOT NULL AUTO_INCREMENT,
	fname varchar(50) NOT NULL,
	lname varchar(50) NOT NULL,
	gender varchar(50) NOT NULL,
	user_email varchar(100) NOT NULL,
	user_role INT NOT NULL,
	country_code INT NOT NULL,
	state_code INT NOT NULL,
	city_code INT NOT NULL,
	postal_code INT NOT NULL,
	user_name varchar(30) NOT NULL UNIQUE,
	password varchar(50) NOT NULL,
	promotion_code varchar(50) NOT NULL UNIQUE,
	PRIMARY KEY (id)
);

CREATE TABLE User_tokens (
	user_id INT NOT NULL,
	device_type INT NOT NULL,
	device_token varchar(30) NOT NULL,
	socket_token varchar(30) NOT NULL,
	PRIMARY KEY (user_id)
);

CREATE TABLE service_category (
	id INT NOT NULL AUTO_INCREMENT,
	service_name varchar(100) NOT NULL,
	unit_price INT NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE job_status (
	id INT NOT NULL AUTO_INCREMENT,
	status varchar(100) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE job_requests (
	id INT NOT NULL AUTO_INCREMENT,
	service_category INT NOT NULL,
	requested_by INT NOT NULL,
	job_status INT NOT NULL,
	job_accepter INT NOT NULL,
	job_requested_time DATETIME NOT NULL,
	job_accepted_time DATETIME NOT NULL,
	job_completed_time DATETIME NOT NULL,
	requester_comment varchar(250) NOT NULL,
	accepter_comment varchar(250) NOT NULL,
	job_location varchar(250) NOT NULL,
	job_hour INT NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE payout_details (
	id INT NOT NULL AUTO_INCREMENT,
	job_id INT NOT NULL,
	working_hours INT NOT NULL,
	payment_status INT NOT NULL,
	total_bill_amount INT NOT NULL,
	payment_mode INT NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE payment_mode (
	id INT NOT NULL AUTO_INCREMENT,
	payment_option varchar(100) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE payment_status (
	id INT NOT NULL AUTO_INCREMENT,
	status varchar(100) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE credit_available (
	id INT NOT NULL AUTO_INCREMENT,
	credit INT NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE discounts (
	id INT NOT NULL AUTO_INCREMENT,
	promo_code varchar(50) NOT NULL UNIQUE,
	expire_on DATETIME NOT NULL,
	discount_cap INT NOT NULL,
	description varchar(200) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE discount_type (
	id INT NOT NULL AUTO_INCREMENT,
	type varchar(50) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE discount_taken (
	user_id INT NOT NULL,
	redemption_date DATETIME NOT NULL,
	discount_type INT NOT NULL,
	promo_code varchar(50) NOT NULL
);

ALTER TABLE state ADD CONSTRAINT state_fk0 FOREIGN KEY (country_id) REFERENCES country(id);

ALTER TABLE city ADD CONSTRAINT city_fk0 FOREIGN KEY (state_id) REFERENCES state(id);

ALTER TABLE user_tbl ADD CONSTRAINT user_tbl_fk0 FOREIGN KEY (user_role) REFERENCES user_role(id);

ALTER TABLE user_tbl ADD CONSTRAINT user_tbl_fk1 FOREIGN KEY (country_code) REFERENCES country(id);

ALTER TABLE user_tbl ADD CONSTRAINT user_tbl_fk2 FOREIGN KEY (state_code) REFERENCES state(id);

ALTER TABLE user_tbl ADD CONSTRAINT user_tbl_fk3 FOREIGN KEY (city_code) REFERENCES city(id);

ALTER TABLE User_tokens ADD CONSTRAINT User_tokens_fk0 FOREIGN KEY (user_id) REFERENCES user_tbl(id);

ALTER TABLE User_tokens ADD CONSTRAINT User_tokens_fk1 FOREIGN KEY (device_type) REFERENCES device(id);

ALTER TABLE job_requests ADD CONSTRAINT job_requests_fk0 FOREIGN KEY (service_category) REFERENCES service_category(id);

ALTER TABLE job_requests ADD CONSTRAINT job_requests_fk1 FOREIGN KEY (requested_by) REFERENCES user_tbl(id);

ALTER TABLE job_requests ADD CONSTRAINT job_requests_fk2 FOREIGN KEY (job_status) REFERENCES job_status(id);

ALTER TABLE job_requests ADD CONSTRAINT job_requests_fk3 FOREIGN KEY (job_accepter) REFERENCES user_tbl(id);

ALTER TABLE payout_details ADD CONSTRAINT payout_details_fk0 FOREIGN KEY (job_id) REFERENCES job_requests(id);

ALTER TABLE payout_details ADD CONSTRAINT payout_details_fk1 FOREIGN KEY (payment_status) REFERENCES payment_status(id);

ALTER TABLE payout_details ADD CONSTRAINT payout_details_fk2 FOREIGN KEY (payment_mode) REFERENCES payment_mode(id);

ALTER TABLE credit_available ADD CONSTRAINT credit_available_fk0 FOREIGN KEY (id) REFERENCES user_tbl(id);

ALTER TABLE discount_taken ADD CONSTRAINT discount_taken_fk0 FOREIGN KEY (user_id) REFERENCES user_tbl(id);

ALTER TABLE discount_taken ADD CONSTRAINT discount_taken_fk1 FOREIGN KEY (discount_type) REFERENCES discount_type(id);

info [Sun Feb 11 2018 21:52:12 GMT+0530 (India Standard Time)]  URL :  /api/install
info [Sun Feb 11 2018 21:52:12 GMT+0530 (India Standard Time)]  Method :  GET
info [Sun Feb 11 2018 21:52:12 GMT+0530 (India Standard Time)]  Header :  { host: 'localhost:7000',
  connection: 'keep-alive',
  'cache-control': 'max-age=0',
  'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/63.0.3239.132 Safari/537.36',
  'upgrade-insecure-requests': '1',
  accept: 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9',
  'if-none-match': '"2093434696"' }
info [Sun Feb 11 2018 21:52:12 GMT+0530 (India Standard Time)]  Params :  {}
info [Sun Feb 11 2018 21:52:12 GMT+0530 (India Standard Time)]  CREATE DATABASE Ziffy;

USE Ziffy;

CREATE TABLE user_role (
	id INT NOT NULL AUTO_INCREMENT,
	role_name varchar(50) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE country (
	id INT NOT NULL AUTO_INCREMENT,
	country_name varchar(100) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE state (
	id INT NOT NULL AUTO_INCREMENT,
	country_id INT NOT NULL,
	state_name varchar(100) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE city (
	id INT NOT NULL AUTO_INCREMENT,
	state_id INT NOT NULL,
	city_name varchar(100) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE device (
	id INT NOT NULL AUTO_INCREMENT,
	device_name varchar(50) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE user_tbl (
	id INT NOT NULL AUTO_INCREMENT,
	fname varchar(50) NOT NULL,
	lname varchar(50) NOT NULL,
	gender varchar(50) NOT NULL,
	user_email varchar(100) NOT NULL,
	user_role INT NOT NULL,
	country_code INT NOT NULL,
	state_code INT NOT NULL,
	city_code INT NOT NULL,
	postal_code INT NOT NULL,
	user_name varchar(30) NOT NULL UNIQUE,
	password varchar(50) NOT NULL,
	promotion_code varchar(50) NOT NULL UNIQUE,
	PRIMARY KEY (id)
);

CREATE TABLE User_tokens (
	user_id INT NOT NULL,
	device_type INT NOT NULL,
	device_token varchar(30) NOT NULL,
	socket_token varchar(30) NOT NULL,
	PRIMARY KEY (user_id)
);

CREATE TABLE service_category (
	id INT NOT NULL AUTO_INCREMENT,
	service_name varchar(100) NOT NULL,
	unit_price INT NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE job_status (
	id INT NOT NULL AUTO_INCREMENT,
	status varchar(100) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE job_requests (
	id INT NOT NULL AUTO_INCREMENT,
	service_category INT NOT NULL,
	requested_by INT NOT NULL,
	job_status INT NOT NULL,
	job_accepter INT NOT NULL,
	job_requested_time DATETIME NOT NULL,
	job_accepted_time DATETIME NOT NULL,
	job_completed_time DATETIME NOT NULL,
	requester_comment varchar(250) NOT NULL,
	accepter_comment varchar(250) NOT NULL,
	job_location varchar(250) NOT NULL,
	job_hour INT NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE payout_details (
	id INT NOT NULL AUTO_INCREMENT,
	job_id INT NOT NULL,
	working_hours INT NOT NULL,
	payment_status INT NOT NULL,
	total_bill_amount INT NOT NULL,
	payment_mode INT NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE payment_mode (
	id INT NOT NULL AUTO_INCREMENT,
	payment_option varchar(100) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE payment_status (
	id INT NOT NULL AUTO_INCREMENT,
	status varchar(100) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE credit_available (
	id INT NOT NULL AUTO_INCREMENT,
	credit INT NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE discounts (
	id INT NOT NULL AUTO_INCREMENT,
	promo_code varchar(50) NOT NULL UNIQUE,
	expire_on DATETIME NOT NULL,
	discount_cap INT NOT NULL,
	description varchar(200) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE discount_type (
	id INT NOT NULL AUTO_INCREMENT,
	type varchar(50) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE discount_taken (
	user_id INT NOT NULL,
	redemption_date DATETIME NOT NULL,
	discount_type INT NOT NULL,
	promo_code varchar(50) NOT NULL
);

ALTER TABLE state ADD CONSTRAINT state_fk0 FOREIGN KEY (country_id) REFERENCES country(id);

ALTER TABLE city ADD CONSTRAINT city_fk0 FOREIGN KEY (state_id) REFERENCES state(id);

ALTER TABLE user_tbl ADD CONSTRAINT user_tbl_fk0 FOREIGN KEY (user_role) REFERENCES user_role(id);

ALTER TABLE user_tbl ADD CONSTRAINT user_tbl_fk1 FOREIGN KEY (country_code) REFERENCES country(id);

ALTER TABLE user_tbl ADD CONSTRAINT user_tbl_fk2 FOREIGN KEY (state_code) REFERENCES state(id);

ALTER TABLE user_tbl ADD CONSTRAINT user_tbl_fk3 FOREIGN KEY (city_code) REFERENCES city(id);

ALTER TABLE User_tokens ADD CONSTRAINT User_tokens_fk0 FOREIGN KEY (user_id) REFERENCES user_tbl(id);

ALTER TABLE User_tokens ADD CONSTRAINT User_tokens_fk1 FOREIGN KEY (device_type) REFERENCES device(id);

ALTER TABLE job_requests ADD CONSTRAINT job_requests_fk0 FOREIGN KEY (service_category) REFERENCES service_category(id);

ALTER TABLE job_requests ADD CONSTRAINT job_requests_fk1 FOREIGN KEY (requested_by) REFERENCES user_tbl(id);

ALTER TABLE job_requests ADD CONSTRAINT job_requests_fk2 FOREIGN KEY (job_status) REFERENCES job_status(id);

ALTER TABLE job_requests ADD CONSTRAINT job_requests_fk3 FOREIGN KEY (job_accepter) REFERENCES user_tbl(id);

ALTER TABLE payout_details ADD CONSTRAINT payout_details_fk0 FOREIGN KEY (job_id) REFERENCES job_requests(id);

ALTER TABLE payout_details ADD CONSTRAINT payout_details_fk1 FOREIGN KEY (payment_status) REFERENCES payment_status(id);

ALTER TABLE payout_details ADD CONSTRAINT payout_details_fk2 FOREIGN KEY (payment_mode) REFERENCES payment_mode(id);

ALTER TABLE credit_available ADD CONSTRAINT credit_available_fk0 FOREIGN KEY (id) REFERENCES user_tbl(id);

ALTER TABLE discount_taken ADD CONSTRAINT discount_taken_fk0 FOREIGN KEY (user_id) REFERENCES user_tbl(id);

ALTER TABLE discount_taken ADD CONSTRAINT discount_taken_fk1 FOREIGN KEY (discount_type) REFERENCES discount_type(id);

info [Sun Feb 11 2018 21:52:12 GMT+0530 (India Standard Time)]  URL :  /api/install
info [Sun Feb 11 2018 21:52:12 GMT+0530 (India Standard Time)]  Method :  GET
info [Sun Feb 11 2018 21:52:12 GMT+0530 (India Standard Time)]  Header :  { host: 'localhost:7000',
  connection: 'keep-alive',
  'cache-control': 'max-age=0',
  'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/63.0.3239.132 Safari/537.36',
  'upgrade-insecure-requests': '1',
  accept: 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9',
  'if-none-match': '"2093434696"' }
info [Sun Feb 11 2018 21:52:12 GMT+0530 (India Standard Time)]  Params :  {}
info [Sun Feb 11 2018 21:52:12 GMT+0530 (India Standard Time)]  CREATE DATABASE Ziffy;

USE Ziffy;

CREATE TABLE user_role (
	id INT NOT NULL AUTO_INCREMENT,
	role_name varchar(50) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE country (
	id INT NOT NULL AUTO_INCREMENT,
	country_name varchar(100) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE state (
	id INT NOT NULL AUTO_INCREMENT,
	country_id INT NOT NULL,
	state_name varchar(100) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE city (
	id INT NOT NULL AUTO_INCREMENT,
	state_id INT NOT NULL,
	city_name varchar(100) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE device (
	id INT NOT NULL AUTO_INCREMENT,
	device_name varchar(50) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE user_tbl (
	id INT NOT NULL AUTO_INCREMENT,
	fname varchar(50) NOT NULL,
	lname varchar(50) NOT NULL,
	gender varchar(50) NOT NULL,
	user_email varchar(100) NOT NULL,
	user_role INT NOT NULL,
	country_code INT NOT NULL,
	state_code INT NOT NULL,
	city_code INT NOT NULL,
	postal_code INT NOT NULL,
	user_name varchar(30) NOT NULL UNIQUE,
	password varchar(50) NOT NULL,
	promotion_code varchar(50) NOT NULL UNIQUE,
	PRIMARY KEY (id)
);

CREATE TABLE User_tokens (
	user_id INT NOT NULL,
	device_type INT NOT NULL,
	device_token varchar(30) NOT NULL,
	socket_token varchar(30) NOT NULL,
	PRIMARY KEY (user_id)
);

CREATE TABLE service_category (
	id INT NOT NULL AUTO_INCREMENT,
	service_name varchar(100) NOT NULL,
	unit_price INT NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE job_status (
	id INT NOT NULL AUTO_INCREMENT,
	status varchar(100) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE job_requests (
	id INT NOT NULL AUTO_INCREMENT,
	service_category INT NOT NULL,
	requested_by INT NOT NULL,
	job_status INT NOT NULL,
	job_accepter INT NOT NULL,
	job_requested_time DATETIME NOT NULL,
	job_accepted_time DATETIME NOT NULL,
	job_completed_time DATETIME NOT NULL,
	requester_comment varchar(250) NOT NULL,
	accepter_comment varchar(250) NOT NULL,
	job_location varchar(250) NOT NULL,
	job_hour INT NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE payout_details (
	id INT NOT NULL AUTO_INCREMENT,
	job_id INT NOT NULL,
	working_hours INT NOT NULL,
	payment_status INT NOT NULL,
	total_bill_amount INT NOT NULL,
	payment_mode INT NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE payment_mode (
	id INT NOT NULL AUTO_INCREMENT,
	payment_option varchar(100) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE payment_status (
	id INT NOT NULL AUTO_INCREMENT,
	status varchar(100) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE credit_available (
	id INT NOT NULL AUTO_INCREMENT,
	credit INT NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE discounts (
	id INT NOT NULL AUTO_INCREMENT,
	promo_code varchar(50) NOT NULL UNIQUE,
	expire_on DATETIME NOT NULL,
	discount_cap INT NOT NULL,
	description varchar(200) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE discount_type (
	id INT NOT NULL AUTO_INCREMENT,
	type varchar(50) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE discount_taken (
	user_id INT NOT NULL,
	redemption_date DATETIME NOT NULL,
	discount_type INT NOT NULL,
	promo_code varchar(50) NOT NULL
);

ALTER TABLE state ADD CONSTRAINT state_fk0 FOREIGN KEY (country_id) REFERENCES country(id);

ALTER TABLE city ADD CONSTRAINT city_fk0 FOREIGN KEY (state_id) REFERENCES state(id);

ALTER TABLE user_tbl ADD CONSTRAINT user_tbl_fk0 FOREIGN KEY (user_role) REFERENCES user_role(id);

ALTER TABLE user_tbl ADD CONSTRAINT user_tbl_fk1 FOREIGN KEY (country_code) REFERENCES country(id);

ALTER TABLE user_tbl ADD CONSTRAINT user_tbl_fk2 FOREIGN KEY (state_code) REFERENCES state(id);

ALTER TABLE user_tbl ADD CONSTRAINT user_tbl_fk3 FOREIGN KEY (city_code) REFERENCES city(id);

ALTER TABLE User_tokens ADD CONSTRAINT User_tokens_fk0 FOREIGN KEY (user_id) REFERENCES user_tbl(id);

ALTER TABLE User_tokens ADD CONSTRAINT User_tokens_fk1 FOREIGN KEY (device_type) REFERENCES device(id);

ALTER TABLE job_requests ADD CONSTRAINT job_requests_fk0 FOREIGN KEY (service_category) REFERENCES service_category(id);

ALTER TABLE job_requests ADD CONSTRAINT job_requests_fk1 FOREIGN KEY (requested_by) REFERENCES user_tbl(id);

ALTER TABLE job_requests ADD CONSTRAINT job_requests_fk2 FOREIGN KEY (job_status) REFERENCES job_status(id);

ALTER TABLE job_requests ADD CONSTRAINT job_requests_fk3 FOREIGN KEY (job_accepter) REFERENCES user_tbl(id);

ALTER TABLE payout_details ADD CONSTRAINT payout_details_fk0 FOREIGN KEY (job_id) REFERENCES job_requests(id);

ALTER TABLE payout_details ADD CONSTRAINT payout_details_fk1 FOREIGN KEY (payment_status) REFERENCES payment_status(id);

ALTER TABLE payout_details ADD CONSTRAINT payout_details_fk2 FOREIGN KEY (payment_mode) REFERENCES payment_mode(id);

ALTER TABLE credit_available ADD CONSTRAINT credit_available_fk0 FOREIGN KEY (id) REFERENCES user_tbl(id);

ALTER TABLE discount_taken ADD CONSTRAINT discount_taken_fk0 FOREIGN KEY (user_id) REFERENCES user_tbl(id);

ALTER TABLE discount_taken ADD CONSTRAINT discount_taken_fk1 FOREIGN KEY (discount_type) REFERENCES discount_type(id);

info [Sun Feb 11 2018 21:52:12 GMT+0530 (India Standard Time)]  URL :  /api/install
info [Sun Feb 11 2018 21:52:12 GMT+0530 (India Standard Time)]  Method :  GET
info [Sun Feb 11 2018 21:52:12 GMT+0530 (India Standard Time)]  Header :  { host: 'localhost:7000',
  connection: 'keep-alive',
  'cache-control': 'max-age=0',
  'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/63.0.3239.132 Safari/537.36',
  'upgrade-insecure-requests': '1',
  accept: 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9',
  'if-none-match': '"2093434696"' }
info [Sun Feb 11 2018 21:52:12 GMT+0530 (India Standard Time)]  Params :  {}
info [Sun Feb 11 2018 21:52:12 GMT+0530 (India Standard Time)]  CREATE DATABASE Ziffy;

USE Ziffy;

CREATE TABLE user_role (
	id INT NOT NULL AUTO_INCREMENT,
	role_name varchar(50) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE country (
	id INT NOT NULL AUTO_INCREMENT,
	country_name varchar(100) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE state (
	id INT NOT NULL AUTO_INCREMENT,
	country_id INT NOT NULL,
	state_name varchar(100) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE city (
	id INT NOT NULL AUTO_INCREMENT,
	state_id INT NOT NULL,
	city_name varchar(100) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE device (
	id INT NOT NULL AUTO_INCREMENT,
	device_name varchar(50) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE user_tbl (
	id INT NOT NULL AUTO_INCREMENT,
	fname varchar(50) NOT NULL,
	lname varchar(50) NOT NULL,
	gender varchar(50) NOT NULL,
	user_email varchar(100) NOT NULL,
	user_role INT NOT NULL,
	country_code INT NOT NULL,
	state_code INT NOT NULL,
	city_code INT NOT NULL,
	postal_code INT NOT NULL,
	user_name varchar(30) NOT NULL UNIQUE,
	password varchar(50) NOT NULL,
	promotion_code varchar(50) NOT NULL UNIQUE,
	PRIMARY KEY (id)
);

CREATE TABLE User_tokens (
	user_id INT NOT NULL,
	device_type INT NOT NULL,
	device_token varchar(30) NOT NULL,
	socket_token varchar(30) NOT NULL,
	PRIMARY KEY (user_id)
);

CREATE TABLE service_category (
	id INT NOT NULL AUTO_INCREMENT,
	service_name varchar(100) NOT NULL,
	unit_price INT NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE job_status (
	id INT NOT NULL AUTO_INCREMENT,
	status varchar(100) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE job_requests (
	id INT NOT NULL AUTO_INCREMENT,
	service_category INT NOT NULL,
	requested_by INT NOT NULL,
	job_status INT NOT NULL,
	job_accepter INT NOT NULL,
	job_requested_time DATETIME NOT NULL,
	job_accepted_time DATETIME NOT NULL,
	job_completed_time DATETIME NOT NULL,
	requester_comment varchar(250) NOT NULL,
	accepter_comment varchar(250) NOT NULL,
	job_location varchar(250) NOT NULL,
	job_hour INT NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE payout_details (
	id INT NOT NULL AUTO_INCREMENT,
	job_id INT NOT NULL,
	working_hours INT NOT NULL,
	payment_status INT NOT NULL,
	total_bill_amount INT NOT NULL,
	payment_mode INT NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE payment_mode (
	id INT NOT NULL AUTO_INCREMENT,
	payment_option varchar(100) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE payment_status (
	id INT NOT NULL AUTO_INCREMENT,
	status varchar(100) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE credit_available (
	id INT NOT NULL AUTO_INCREMENT,
	credit INT NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE discounts (
	id INT NOT NULL AUTO_INCREMENT,
	promo_code varchar(50) NOT NULL UNIQUE,
	expire_on DATETIME NOT NULL,
	discount_cap INT NOT NULL,
	description varchar(200) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE discount_type (
	id INT NOT NULL AUTO_INCREMENT,
	type varchar(50) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE discount_taken (
	user_id INT NOT NULL,
	redemption_date DATETIME NOT NULL,
	discount_type INT NOT NULL,
	promo_code varchar(50) NOT NULL
);

ALTER TABLE state ADD CONSTRAINT state_fk0 FOREIGN KEY (country_id) REFERENCES country(id);

ALTER TABLE city ADD CONSTRAINT city_fk0 FOREIGN KEY (state_id) REFERENCES state(id);

ALTER TABLE user_tbl ADD CONSTRAINT user_tbl_fk0 FOREIGN KEY (user_role) REFERENCES user_role(id);

ALTER TABLE user_tbl ADD CONSTRAINT user_tbl_fk1 FOREIGN KEY (country_code) REFERENCES country(id);

ALTER TABLE user_tbl ADD CONSTRAINT user_tbl_fk2 FOREIGN KEY (state_code) REFERENCES state(id);

ALTER TABLE user_tbl ADD CONSTRAINT user_tbl_fk3 FOREIGN KEY (city_code) REFERENCES city(id);

ALTER TABLE User_tokens ADD CONSTRAINT User_tokens_fk0 FOREIGN KEY (user_id) REFERENCES user_tbl(id);

ALTER TABLE User_tokens ADD CONSTRAINT User_tokens_fk1 FOREIGN KEY (device_type) REFERENCES device(id);

ALTER TABLE job_requests ADD CONSTRAINT job_requests_fk0 FOREIGN KEY (service_category) REFERENCES service_category(id);

ALTER TABLE job_requests ADD CONSTRAINT job_requests_fk1 FOREIGN KEY (requested_by) REFERENCES user_tbl(id);

ALTER TABLE job_requests ADD CONSTRAINT job_requests_fk2 FOREIGN KEY (job_status) REFERENCES job_status(id);

ALTER TABLE job_requests ADD CONSTRAINT job_requests_fk3 FOREIGN KEY (job_accepter) REFERENCES user_tbl(id);

ALTER TABLE payout_details ADD CONSTRAINT payout_details_fk0 FOREIGN KEY (job_id) REFERENCES job_requests(id);

ALTER TABLE payout_details ADD CONSTRAINT payout_details_fk1 FOREIGN KEY (payment_status) REFERENCES payment_status(id);

ALTER TABLE payout_details ADD CONSTRAINT payout_details_fk2 FOREIGN KEY (payment_mode) REFERENCES payment_mode(id);

ALTER TABLE credit_available ADD CONSTRAINT credit_available_fk0 FOREIGN KEY (id) REFERENCES user_tbl(id);

ALTER TABLE discount_taken ADD CONSTRAINT discount_taken_fk0 FOREIGN KEY (user_id) REFERENCES user_tbl(id);

ALTER TABLE discount_taken ADD CONSTRAINT discount_taken_fk1 FOREIGN KEY (discount_type) REFERENCES discount_type(id);

info [Sun Feb 11 2018 21:52:32 GMT+0530 (India Standard Time)]  URL :  /api/install
info [Sun Feb 11 2018 21:52:32 GMT+0530 (India Standard Time)]  Method :  GET
info [Sun Feb 11 2018 21:52:32 GMT+0530 (India Standard Time)]  Header :  { host: 'localhost:7000',
  connection: 'keep-alive',
  'cache-control': 'max-age=0',
  'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/63.0.3239.132 Safari/537.36',
  'upgrade-insecure-requests': '1',
  accept: 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9',
  'if-none-match': '"2093434696"' }
info [Sun Feb 11 2018 21:52:32 GMT+0530 (India Standard Time)]  Params :  {}
info [Sun Feb 11 2018 21:52:32 GMT+0530 (India Standard Time)]  
USE Ziffy;

CREATE TABLE user_role (
	id INT NOT NULL AUTO_INCREMENT,
	role_name varchar(50) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE country (
	id INT NOT NULL AUTO_INCREMENT,
	country_name varchar(100) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE state (
	id INT NOT NULL AUTO_INCREMENT,
	country_id INT NOT NULL,
	state_name varchar(100) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE city (
	id INT NOT NULL AUTO_INCREMENT,
	state_id INT NOT NULL,
	city_name varchar(100) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE device (
	id INT NOT NULL AUTO_INCREMENT,
	device_name varchar(50) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE user_tbl (
	id INT NOT NULL AUTO_INCREMENT,
	fname varchar(50) NOT NULL,
	lname varchar(50) NOT NULL,
	gender varchar(50) NOT NULL,
	user_email varchar(100) NOT NULL,
	user_role INT NOT NULL,
	country_code INT NOT NULL,
	state_code INT NOT NULL,
	city_code INT NOT NULL,
	postal_code INT NOT NULL,
	user_name varchar(30) NOT NULL UNIQUE,
	password varchar(50) NOT NULL,
	promotion_code varchar(50) NOT NULL UNIQUE,
	PRIMARY KEY (id)
);

CREATE TABLE User_tokens (
	user_id INT NOT NULL,
	device_type INT NOT NULL,
	device_token varchar(30) NOT NULL,
	socket_token varchar(30) NOT NULL,
	PRIMARY KEY (user_id)
);

CREATE TABLE service_category (
	id INT NOT NULL AUTO_INCREMENT,
	service_name varchar(100) NOT NULL,
	unit_price INT NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE job_status (
	id INT NOT NULL AUTO_INCREMENT,
	status varchar(100) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE job_requests (
	id INT NOT NULL AUTO_INCREMENT,
	service_category INT NOT NULL,
	requested_by INT NOT NULL,
	job_status INT NOT NULL,
	job_accepter INT NOT NULL,
	job_requested_time DATETIME NOT NULL,
	job_accepted_time DATETIME NOT NULL,
	job_completed_time DATETIME NOT NULL,
	requester_comment varchar(250) NOT NULL,
	accepter_comment varchar(250) NOT NULL,
	job_location varchar(250) NOT NULL,
	job_hour INT NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE payout_details (
	id INT NOT NULL AUTO_INCREMENT,
	job_id INT NOT NULL,
	working_hours INT NOT NULL,
	payment_status INT NOT NULL,
	total_bill_amount INT NOT NULL,
	payment_mode INT NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE payment_mode (
	id INT NOT NULL AUTO_INCREMENT,
	payment_option varchar(100) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE payment_status (
	id INT NOT NULL AUTO_INCREMENT,
	status varchar(100) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE credit_available (
	id INT NOT NULL AUTO_INCREMENT,
	credit INT NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE discounts (
	id INT NOT NULL AUTO_INCREMENT,
	promo_code varchar(50) NOT NULL UNIQUE,
	expire_on DATETIME NOT NULL,
	discount_cap INT NOT NULL,
	description varchar(200) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE discount_type (
	id INT NOT NULL AUTO_INCREMENT,
	type varchar(50) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE discount_taken (
	user_id INT NOT NULL,
	redemption_date DATETIME NOT NULL,
	discount_type INT NOT NULL,
	promo_code varchar(50) NOT NULL
);

ALTER TABLE state ADD CONSTRAINT state_fk0 FOREIGN KEY (country_id) REFERENCES country(id);

ALTER TABLE city ADD CONSTRAINT city_fk0 FOREIGN KEY (state_id) REFERENCES state(id);

ALTER TABLE user_tbl ADD CONSTRAINT user_tbl_fk0 FOREIGN KEY (user_role) REFERENCES user_role(id);

ALTER TABLE user_tbl ADD CONSTRAINT user_tbl_fk1 FOREIGN KEY (country_code) REFERENCES country(id);

ALTER TABLE user_tbl ADD CONSTRAINT user_tbl_fk2 FOREIGN KEY (state_code) REFERENCES state(id);

ALTER TABLE user_tbl ADD CONSTRAINT user_tbl_fk3 FOREIGN KEY (city_code) REFERENCES city(id);

ALTER TABLE User_tokens ADD CONSTRAINT User_tokens_fk0 FOREIGN KEY (user_id) REFERENCES user_tbl(id);

ALTER TABLE User_tokens ADD CONSTRAINT User_tokens_fk1 FOREIGN KEY (device_type) REFERENCES device(id);

ALTER TABLE job_requests ADD CONSTRAINT job_requests_fk0 FOREIGN KEY (service_category) REFERENCES service_category(id);

ALTER TABLE job_requests ADD CONSTRAINT job_requests_fk1 FOREIGN KEY (requested_by) REFERENCES user_tbl(id);

ALTER TABLE job_requests ADD CONSTRAINT job_requests_fk2 FOREIGN KEY (job_status) REFERENCES job_status(id);

ALTER TABLE job_requests ADD CONSTRAINT job_requests_fk3 FOREIGN KEY (job_accepter) REFERENCES user_tbl(id);

ALTER TABLE payout_details ADD CONSTRAINT payout_details_fk0 FOREIGN KEY (job_id) REFERENCES job_requests(id);

ALTER TABLE payout_details ADD CONSTRAINT payout_details_fk1 FOREIGN KEY (payment_status) REFERENCES payment_status(id);

ALTER TABLE payout_details ADD CONSTRAINT payout_details_fk2 FOREIGN KEY (payment_mode) REFERENCES payment_mode(id);

ALTER TABLE credit_available ADD CONSTRAINT credit_available_fk0 FOREIGN KEY (id) REFERENCES user_tbl(id);

ALTER TABLE discount_taken ADD CONSTRAINT discount_taken_fk0 FOREIGN KEY (user_id) REFERENCES user_tbl(id);

ALTER TABLE discount_taken ADD CONSTRAINT discount_taken_fk1 FOREIGN KEY (discount_type) REFERENCES discount_type(id);

info [Sun Feb 11 2018 21:52:46 GMT+0530 (India Standard Time)]  URL :  /api/install
info [Sun Feb 11 2018 21:52:46 GMT+0530 (India Standard Time)]  Method :  GET
info [Sun Feb 11 2018 21:52:46 GMT+0530 (India Standard Time)]  Header :  { host: 'localhost:7000',
  connection: 'keep-alive',
  'cache-control': 'max-age=0',
  'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/63.0.3239.132 Safari/537.36',
  'upgrade-insecure-requests': '1',
  accept: 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9',
  'if-none-match': '"1727461343"' }
info [Sun Feb 11 2018 21:52:46 GMT+0530 (India Standard Time)]  Params :  {}
info [Sun Feb 11 2018 21:52:46 GMT+0530 (India Standard Time)]  
USE Ziffy;

CREATE TABLE user_role (
	id INT NOT NULL AUTO_INCREMENT,
	role_name varchar(50) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE country (
	id INT NOT NULL AUTO_INCREMENT,
	country_name varchar(100) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE state (
	id INT NOT NULL AUTO_INCREMENT,
	country_id INT NOT NULL,
	state_name varchar(100) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE city (
	id INT NOT NULL AUTO_INCREMENT,
	state_id INT NOT NULL,
	city_name varchar(100) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE device (
	id INT NOT NULL AUTO_INCREMENT,
	device_name varchar(50) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE user_tbl (
	id INT NOT NULL AUTO_INCREMENT,
	fname varchar(50) NOT NULL,
	lname varchar(50) NOT NULL,
	gender varchar(50) NOT NULL,
	user_email varchar(100) NOT NULL,
	user_role INT NOT NULL,
	country_code INT NOT NULL,
	state_code INT NOT NULL,
	city_code INT NOT NULL,
	postal_code INT NOT NULL,
	user_name varchar(30) NOT NULL UNIQUE,
	password varchar(50) NOT NULL,
	promotion_code varchar(50) NOT NULL UNIQUE,
	PRIMARY KEY (id)
);

CREATE TABLE User_tokens (
	user_id INT NOT NULL,
	device_type INT NOT NULL,
	device_token varchar(30) NOT NULL,
	socket_token varchar(30) NOT NULL,
	PRIMARY KEY (user_id)
);

CREATE TABLE service_category (
	id INT NOT NULL AUTO_INCREMENT,
	service_name varchar(100) NOT NULL,
	unit_price INT NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE job_status (
	id INT NOT NULL AUTO_INCREMENT,
	status varchar(100) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE job_requests (
	id INT NOT NULL AUTO_INCREMENT,
	service_category INT NOT NULL,
	requested_by INT NOT NULL,
	job_status INT NOT NULL,
	job_accepter INT NOT NULL,
	job_requested_time DATETIME NOT NULL,
	job_accepted_time DATETIME NOT NULL,
	job_completed_time DATETIME NOT NULL,
	requester_comment varchar(250) NOT NULL,
	accepter_comment varchar(250) NOT NULL,
	job_location varchar(250) NOT NULL,
	job_hour INT NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE payout_details (
	id INT NOT NULL AUTO_INCREMENT,
	job_id INT NOT NULL,
	working_hours INT NOT NULL,
	payment_status INT NOT NULL,
	total_bill_amount INT NOT NULL,
	payment_mode INT NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE payment_mode (
	id INT NOT NULL AUTO_INCREMENT,
	payment_option varchar(100) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE payment_status (
	id INT NOT NULL AUTO_INCREMENT,
	status varchar(100) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE credit_available (
	id INT NOT NULL AUTO_INCREMENT,
	credit INT NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE discounts (
	id INT NOT NULL AUTO_INCREMENT,
	promo_code varchar(50) NOT NULL UNIQUE,
	expire_on DATETIME NOT NULL,
	discount_cap INT NOT NULL,
	description varchar(200) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE discount_type (
	id INT NOT NULL AUTO_INCREMENT,
	type varchar(50) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE discount_taken (
	user_id INT NOT NULL,
	redemption_date DATETIME NOT NULL,
	discount_type INT NOT NULL,
	promo_code varchar(50) NOT NULL
);

ALTER TABLE state ADD CONSTRAINT state_fk0 FOREIGN KEY (country_id) REFERENCES country(id);

ALTER TABLE city ADD CONSTRAINT city_fk0 FOREIGN KEY (state_id) REFERENCES state(id);

ALTER TABLE user_tbl ADD CONSTRAINT user_tbl_fk0 FOREIGN KEY (user_role) REFERENCES user_role(id);

ALTER TABLE user_tbl ADD CONSTRAINT user_tbl_fk1 FOREIGN KEY (country_code) REFERENCES country(id);

ALTER TABLE user_tbl ADD CONSTRAINT user_tbl_fk2 FOREIGN KEY (state_code) REFERENCES state(id);

ALTER TABLE user_tbl ADD CONSTRAINT user_tbl_fk3 FOREIGN KEY (city_code) REFERENCES city(id);

ALTER TABLE User_tokens ADD CONSTRAINT User_tokens_fk0 FOREIGN KEY (user_id) REFERENCES user_tbl(id);

ALTER TABLE User_tokens ADD CONSTRAINT User_tokens_fk1 FOREIGN KEY (device_type) REFERENCES device(id);

ALTER TABLE job_requests ADD CONSTRAINT job_requests_fk0 FOREIGN KEY (service_category) REFERENCES service_category(id);

ALTER TABLE job_requests ADD CONSTRAINT job_requests_fk1 FOREIGN KEY (requested_by) REFERENCES user_tbl(id);

ALTER TABLE job_requests ADD CONSTRAINT job_requests_fk2 FOREIGN KEY (job_status) REFERENCES job_status(id);

ALTER TABLE job_requests ADD CONSTRAINT job_requests_fk3 FOREIGN KEY (job_accepter) REFERENCES user_tbl(id);

ALTER TABLE payout_details ADD CONSTRAINT payout_details_fk0 FOREIGN KEY (job_id) REFERENCES job_requests(id);

ALTER TABLE payout_details ADD CONSTRAINT payout_details_fk1 FOREIGN KEY (payment_status) REFERENCES payment_status(id);

ALTER TABLE payout_details ADD CONSTRAINT payout_details_fk2 FOREIGN KEY (payment_mode) REFERENCES payment_mode(id);

ALTER TABLE credit_available ADD CONSTRAINT credit_available_fk0 FOREIGN KEY (id) REFERENCES user_tbl(id);

ALTER TABLE discount_taken ADD CONSTRAINT discount_taken_fk0 FOREIGN KEY (user_id) REFERENCES user_tbl(id);

ALTER TABLE discount_taken ADD CONSTRAINT discount_taken_fk1 FOREIGN KEY (discount_type) REFERENCES discount_type(id);

info [Sun Feb 11 2018 21:53:58 GMT+0530 (India Standard Time)]  URL :  /api/install
info [Sun Feb 11 2018 21:53:58 GMT+0530 (India Standard Time)]  Method :  GET
info [Sun Feb 11 2018 21:53:58 GMT+0530 (India Standard Time)]  Header :  { host: 'localhost:7000',
  connection: 'keep-alive',
  'cache-control': 'max-age=0',
  'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/63.0.3239.132 Safari/537.36',
  'upgrade-insecure-requests': '1',
  accept: 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9',
  'if-none-match': '"300905956"' }
info [Sun Feb 11 2018 21:53:58 GMT+0530 (India Standard Time)]  Params :  {}
info [Sun Feb 11 2018 21:53:58 GMT+0530 (India Standard Time)]  
USE Ziffy;

CREATE TABLE user_role (
	id INT NOT NULL AUTO_INCREMENT,
	role_name varchar(50) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE country (
	id INT NOT NULL AUTO_INCREMENT,
	country_name varchar(100) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE state (
	id INT NOT NULL AUTO_INCREMENT,
	country_id INT NOT NULL,
	state_name varchar(100) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE city (
	id INT NOT NULL AUTO_INCREMENT,
	state_id INT NOT NULL,
	city_name varchar(100) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE device (
	id INT NOT NULL AUTO_INCREMENT,
	device_name varchar(50) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE user_tbl (
	id INT NOT NULL AUTO_INCREMENT,
	fname varchar(50) NOT NULL,
	lname varchar(50) NOT NULL,
	gender varchar(50) NOT NULL,
	user_email varchar(100) NOT NULL,
	user_role INT NOT NULL,
	country_code INT NOT NULL,
	state_code INT NOT NULL,
	city_code INT NOT NULL,
	postal_code INT NOT NULL,
	user_name varchar(30) NOT NULL UNIQUE,
	password varchar(50) NOT NULL,
	promotion_code varchar(50) NOT NULL UNIQUE,
	PRIMARY KEY (id)
);

CREATE TABLE User_tokens (
	user_id INT NOT NULL,
	device_type INT NOT NULL,
	device_token varchar(30) NOT NULL,
	socket_token varchar(30) NOT NULL,
	PRIMARY KEY (user_id)
);

CREATE TABLE service_category (
	id INT NOT NULL AUTO_INCREMENT,
	service_name varchar(100) NOT NULL,
	unit_price INT NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE job_status (
	id INT NOT NULL AUTO_INCREMENT,
	status varchar(100) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE job_requests (
	id INT NOT NULL AUTO_INCREMENT,
	service_category INT NOT NULL,
	requested_by INT NOT NULL,
	job_status INT NOT NULL,
	job_accepter INT NOT NULL,
	job_requested_time DATETIME NOT NULL,
	job_accepted_time DATETIME NOT NULL,
	job_completed_time DATETIME NOT NULL,
	requester_comment varchar(250) NOT NULL,
	accepter_comment varchar(250) NOT NULL,
	job_location varchar(250) NOT NULL,
	job_hour INT NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE payout_details (
	id INT NOT NULL AUTO_INCREMENT,
	job_id INT NOT NULL,
	working_hours INT NOT NULL,
	payment_status INT NOT NULL,
	total_bill_amount INT NOT NULL,
	payment_mode INT NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE payment_mode (
	id INT NOT NULL AUTO_INCREMENT,
	payment_option varchar(100) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE payment_status (
	id INT NOT NULL AUTO_INCREMENT,
	status varchar(100) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE credit_available (
	id INT NOT NULL AUTO_INCREMENT,
	credit INT NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE discounts (
	id INT NOT NULL AUTO_INCREMENT,
	promo_code varchar(50) NOT NULL UNIQUE,
	expire_on DATETIME NOT NULL,
	discount_cap INT NOT NULL,
	description varchar(200) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE discount_type (
	id INT NOT NULL AUTO_INCREMENT,
	type varchar(50) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE discount_taken (
	user_id INT NOT NULL,
	redemption_date DATETIME NOT NULL,
	discount_type INT NOT NULL,
	promo_code varchar(50) NOT NULL
);

ALTER TABLE state ADD CONSTRAINT state_fk0 FOREIGN KEY (country_id) REFERENCES country(id);

ALTER TABLE city ADD CONSTRAINT city_fk0 FOREIGN KEY (state_id) REFERENCES state(id);

ALTER TABLE user_tbl ADD CONSTRAINT user_tbl_fk0 FOREIGN KEY (user_role) REFERENCES user_role(id);

ALTER TABLE user_tbl ADD CONSTRAINT user_tbl_fk1 FOREIGN KEY (country_code) REFERENCES country(id);

ALTER TABLE user_tbl ADD CONSTRAINT user_tbl_fk2 FOREIGN KEY (state_code) REFERENCES state(id);

ALTER TABLE user_tbl ADD CONSTRAINT user_tbl_fk3 FOREIGN KEY (city_code) REFERENCES city(id);

ALTER TABLE User_tokens ADD CONSTRAINT User_tokens_fk0 FOREIGN KEY (user_id) REFERENCES user_tbl(id);

ALTER TABLE User_tokens ADD CONSTRAINT User_tokens_fk1 FOREIGN KEY (device_type) REFERENCES device(id);

ALTER TABLE job_requests ADD CONSTRAINT job_requests_fk0 FOREIGN KEY (service_category) REFERENCES service_category(id);

ALTER TABLE job_requests ADD CONSTRAINT job_requests_fk1 FOREIGN KEY (requested_by) REFERENCES user_tbl(id);

ALTER TABLE job_requests ADD CONSTRAINT job_requests_fk2 FOREIGN KEY (job_status) REFERENCES job_status(id);

ALTER TABLE job_requests ADD CONSTRAINT job_requests_fk3 FOREIGN KEY (job_accepter) REFERENCES user_tbl(id);

ALTER TABLE payout_details ADD CONSTRAINT payout_details_fk0 FOREIGN KEY (job_id) REFERENCES job_requests(id);

ALTER TABLE payout_details ADD CONSTRAINT payout_details_fk1 FOREIGN KEY (payment_status) REFERENCES payment_status(id);

ALTER TABLE payout_details ADD CONSTRAINT payout_details_fk2 FOREIGN KEY (payment_mode) REFERENCES payment_mode(id);

ALTER TABLE credit_available ADD CONSTRAINT credit_available_fk0 FOREIGN KEY (id) REFERENCES user_tbl(id);

ALTER TABLE discount_taken ADD CONSTRAINT discount_taken_fk0 FOREIGN KEY (user_id) REFERENCES user_tbl(id);

ALTER TABLE discount_taken ADD CONSTRAINT discount_taken_fk1 FOREIGN KEY (discount_type) REFERENCES discount_type(id);


info [Sun Feb 11 2018 22:03:11 GMT+0530 (India Standard Time)]  URL :  /api/user/registration
info [Sun Feb 11 2018 22:03:11 GMT+0530 (India Standard Time)]  Method :  POST
info [Sun Feb 11 2018 22:03:11 GMT+0530 (India Standard Time)]  Header :  { host: 'localhost:7000',
  'content-type': 'application/x-www-form-urlencoded',
  'content-length': '43' }
info [Sun Feb 11 2018 22:03:11 GMT+0530 (India Standard Time)]  Params :  {}
info [Sun Feb 11 2018 22:03:11 GMT+0530 (India Standard Time)]  Yaha par bhi chal raha he
info [Sun Feb 11 2018 22:03:11 GMT+0530 (India Standard Time)]  {}
info [Sun Feb 11 2018 22:03:27 GMT+0530 (India Standard Time)]  URL :  /api/user/registration
info [Sun Feb 11 2018 22:03:27 GMT+0530 (India Standard Time)]  Method :  GET
info [Sun Feb 11 2018 22:03:27 GMT+0530 (India Standard Time)]  Header :  { host: 'localhost:7000',
  connection: 'keep-alive',
  'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/63.0.3239.132 Safari/537.36',
  'upgrade-insecure-requests': '1',
  accept: 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9' }
info [Sun Feb 11 2018 22:03:27 GMT+0530 (India Standard Time)]  Params :  {}

info [Sun Feb 11 2018 22:12:05 GMT+0530 (India Standard Time)]  URL :  /api/user/registration
info [Sun Feb 11 2018 22:12:05 GMT+0530 (India Standard Time)]  Method :  POST
info [Sun Feb 11 2018 22:12:05 GMT+0530 (India Standard Time)]  Header :  { host: 'localhost:7000',
  'content-type': 'application/x-www-form-urlencoded',
  'content-length': '43' }
info [Sun Feb 11 2018 22:12:05 GMT+0530 (India Standard Time)]  Params :  {}
info [Sun Feb 11 2018 22:12:05 GMT+0530 (India Standard Time)]  Registration Initiated : 
info [Sun Feb 11 2018 22:12:05 GMT+0530 (India Standard Time)]  { rendom_num: '123445', name: 'jitender', working: 'yes' }

info [Sun Feb 11 2018 22:12:27 GMT+0530 (India Standard Time)]  URL :  /api/user/registration
info [Sun Feb 11 2018 22:12:27 GMT+0530 (India Standard Time)]  Method :  POST
info [Sun Feb 11 2018 22:12:27 GMT+0530 (India Standard Time)]  Header :  { host: 'localhost:7000',
  'content-type': 'application/x-www-form-urlencoded',
  'content-length': '43' }
info [Sun Feb 11 2018 22:12:27 GMT+0530 (India Standard Time)]  Params :  {}
info [Sun Feb 11 2018 22:12:27 GMT+0530 (India Standard Time)]  Registration Initiated : 
info [Sun Feb 11 2018 22:12:27 GMT+0530 (India Standard Time)]  { rendom_num: '123445', name: 'jitender', working: 'yes' }

info [Sun Feb 11 2018 22:14:36 GMT+0530 (India Standard Time)]  URL :  /api/user/registration
info [Sun Feb 11 2018 22:14:36 GMT+0530 (India Standard Time)]  Method :  POST
info [Sun Feb 11 2018 22:14:36 GMT+0530 (India Standard Time)]  Header :  { host: 'localhost:7000',
  'content-type': 'application/x-www-form-urlencoded',
  'content-length': '43' }
info [Sun Feb 11 2018 22:14:36 GMT+0530 (India Standard Time)]  Params :  {}
info [Sun Feb 11 2018 22:14:36 GMT+0530 (India Standard Time)]  Registration Initiated : 
info [Sun Feb 11 2018 22:14:36 GMT+0530 (India Standard Time)]  { rendom_num: '123445', name: 'jitender', working: 'yes' }

info [Sun Feb 11 2018 22:20:19 GMT+0530 (India Standard Time)]  URL :  /api/user/registration
info [Sun Feb 11 2018 22:20:19 GMT+0530 (India Standard Time)]  Method :  POST
info [Sun Feb 11 2018 22:20:19 GMT+0530 (India Standard Time)]  Header :  { host: 'localhost:7000',
  'content-type': 'application/x-www-form-urlencoded',
  'content-length': '42' }
info [Sun Feb 11 2018 22:20:19 GMT+0530 (India Standard Time)]  Params :  {}
info [Sun Feb 11 2018 22:20:19 GMT+0530 (India Standard Time)]  Registration Initiated : 
info [Sun Feb 11 2018 22:20:19 GMT+0530 (India Standard Time)]  { fname: 'JItender', lname: 'Badoni', password: '12345' }

info [Sun Feb 11 2018 22:39:46 GMT+0530 (India Standard Time)]  URL :  /api/user/registration
info [Sun Feb 11 2018 22:39:46 GMT+0530 (India Standard Time)]  Method :  POST
info [Sun Feb 11 2018 22:39:46 GMT+0530 (India Standard Time)]  Header :  { host: 'localhost:7000',
  'content-type': 'application/x-www-form-urlencoded',
  'content-length': '42' }
info [Sun Feb 11 2018 22:39:46 GMT+0530 (India Standard Time)]  Params :  {}
info [Sun Feb 11 2018 22:39:46 GMT+0530 (India Standard Time)]  Registration Initiated : 
info [Sun Feb 11 2018 22:39:46 GMT+0530 (India Standard Time)]  { fname: 'JItender', lname: 'Badoni', password: '12345' }

info [Sun Feb 11 2018 22:40:23 GMT+0530 (India Standard Time)]  URL :  /api/user/registration
info [Sun Feb 11 2018 22:40:23 GMT+0530 (India Standard Time)]  Method :  POST
info [Sun Feb 11 2018 22:40:23 GMT+0530 (India Standard Time)]  Header :  { host: 'localhost:7000',
  'content-type': 'application/x-www-form-urlencoded',
  'content-length': '42' }
info [Sun Feb 11 2018 22:40:23 GMT+0530 (India Standard Time)]  Params :  {}
info [Sun Feb 11 2018 22:40:23 GMT+0530 (India Standard Time)]  Registration Initiated : 
info [Sun Feb 11 2018 22:40:23 GMT+0530 (India Standard Time)]  { fname: 'JItender', lname: 'Badoni', password: '12345' }

info [Sun Feb 11 2018 22:47:07 GMT+0530 (India Standard Time)]  URL :  /api/user/registration
info [Sun Feb 11 2018 22:47:07 GMT+0530 (India Standard Time)]  Method :  POST
info [Sun Feb 11 2018 22:47:07 GMT+0530 (India Standard Time)]  Header :  { host: 'localhost:7000',
  'content-type': 'application/x-www-form-urlencoded',
  'content-length': '42' }
info [Sun Feb 11 2018 22:47:07 GMT+0530 (India Standard Time)]  Params :  {}
info [Sun Feb 11 2018 22:47:07 GMT+0530 (India Standard Time)]  Registration Initiated : 
info [Sun Feb 11 2018 22:47:07 GMT+0530 (India Standard Time)]  { fname: 'JItender', lname: 'Badoni', password: '12345' }

info [Sun Feb 11 2018 22:48:29 GMT+0530 (India Standard Time)]  URL :  /api/user/registration
info [Sun Feb 11 2018 22:48:29 GMT+0530 (India Standard Time)]  Method :  POST
info [Sun Feb 11 2018 22:48:29 GMT+0530 (India Standard Time)]  Header :  { host: 'localhost:7000',
  'content-type': 'application/x-www-form-urlencoded',
  'content-length': '42' }
info [Sun Feb 11 2018 22:48:29 GMT+0530 (India Standard Time)]  Params :  {}
info [Sun Feb 11 2018 22:48:29 GMT+0530 (India Standard Time)]  Registration Initiated : 
info [Sun Feb 11 2018 22:48:29 GMT+0530 (India Standard Time)]  { fname: 'JItender', lname: 'Badoni', password: '12345' }

info [Sun Feb 11 2018 22:49:30 GMT+0530 (India Standard Time)]  URL :  /api/user/registration
info [Sun Feb 11 2018 22:49:30 GMT+0530 (India Standard Time)]  Method :  POST
info [Sun Feb 11 2018 22:49:30 GMT+0530 (India Standard Time)]  Header :  { host: 'localhost:7000',
  'content-type': 'application/x-www-form-urlencoded',
  'content-length': '42' }
info [Sun Feb 11 2018 22:49:30 GMT+0530 (India Standard Time)]  Params :  {}
info [Sun Feb 11 2018 22:49:30 GMT+0530 (India Standard Time)]  Registration Initiated : 
info [Sun Feb 11 2018 22:49:30 GMT+0530 (India Standard Time)]  { fname: 'JItender', lname: 'Badoni', password: '12345' }
info [Sun Feb 11 2018 23:07:09 GMT+0530 (India Standard Time)]  URL :  /api/user/registration
info [Sun Feb 11 2018 23:07:09 GMT+0530 (India Standard Time)]  Method :  POST
info [Sun Feb 11 2018 23:07:09 GMT+0530 (India Standard Time)]  Header :  { host: 'localhost:7000',
  'content-type': 'application/x-www-form-urlencoded',
  'content-length': '42' }
info [Sun Feb 11 2018 23:07:09 GMT+0530 (India Standard Time)]  Params :  {}
info [Sun Feb 11 2018 23:07:09 GMT+0530 (India Standard Time)]  Registration Initiated : 
info [Sun Feb 11 2018 23:07:09 GMT+0530 (India Standard Time)]  { fname: 'JItender', lname: 'Badoni', password: '12345' }
info [Sun Feb 11 2018 23:07:16 GMT+0530 (India Standard Time)]  URL :  /api/user/registration
info [Sun Feb 11 2018 23:07:16 GMT+0530 (India Standard Time)]  Method :  POST
info [Sun Feb 11 2018 23:07:16 GMT+0530 (India Standard Time)]  Header :  { host: 'localhost:7000',
  'content-type': 'application/x-www-form-urlencoded',
  'content-length': '42' }
info [Sun Feb 11 2018 23:07:16 GMT+0530 (India Standard Time)]  Params :  {}
info [Sun Feb 11 2018 23:07:16 GMT+0530 (India Standard Time)]  Registration Initiated : 
info [Sun Feb 11 2018 23:07:16 GMT+0530 (India Standard Time)]  { fname: 'JItender', lname: 'Badoni', password: '12345' }

info [Sun Feb 11 2018 23:07:24 GMT+0530 (India Standard Time)]  URL :  /api/user/registration
info [Sun Feb 11 2018 23:07:24 GMT+0530 (India Standard Time)]  Method :  POST
info [Sun Feb 11 2018 23:07:24 GMT+0530 (India Standard Time)]  Header :  { host: 'localhost:7000',
  'content-type': 'application/x-www-form-urlencoded',
  'content-length': '42' }
info [Sun Feb 11 2018 23:07:24 GMT+0530 (India Standard Time)]  Params :  {}
info [Sun Feb 11 2018 23:07:24 GMT+0530 (India Standard Time)]  Registration Initiated : 
info [Sun Feb 11 2018 23:07:24 GMT+0530 (India Standard Time)]  { fname: 'JItender', lname: 'Badoni', password: '12345' }
info [Sun Feb 11 2018 23:08:53 GMT+0530 (India Standard Time)]  URL :  /api/user/registration
info [Sun Feb 11 2018 23:08:53 GMT+0530 (India Standard Time)]  Method :  POST
info [Sun Feb 11 2018 23:08:53 GMT+0530 (India Standard Time)]  Header :  { host: 'localhost:7000',
  'content-type': 'application/x-www-form-urlencoded',
  'content-length': '165' }
info [Sun Feb 11 2018 23:08:53 GMT+0530 (India Standard Time)]  Params :  {}
info [Sun Feb 11 2018 23:08:53 GMT+0530 (India Standard Time)]  Registration Initiated : 
info [Sun Feb 11 2018 23:08:53 GMT+0530 (India Standard Time)]  { fname: 'JItender',
  lname: 'Badoni',
  password: '12345',
  gender: 'Male',
  user_email: 'jitender@gmail.com',
  user_role: '1',
  country_code: '12',
  state_code: '12',
  city_code: '12',
  postal_code: '12',
  user_name: '' }
info [Sun Feb 11 2018 23:09:48 GMT+0530 (India Standard Time)]  URL :  /api/user/registration
info [Sun Feb 11 2018 23:09:48 GMT+0530 (India Standard Time)]  Method :  POST
info [Sun Feb 11 2018 23:09:48 GMT+0530 (India Standard Time)]  Header :  { host: 'localhost:7000',
  'content-type': 'application/x-www-form-urlencoded',
  'content-length': '170' }
info [Sun Feb 11 2018 23:09:48 GMT+0530 (India Standard Time)]  Params :  {}
info [Sun Feb 11 2018 23:09:48 GMT+0530 (India Standard Time)]  Registration Initiated : 
info [Sun Feb 11 2018 23:09:48 GMT+0530 (India Standard Time)]  { fname: 'JItender',
  lname: 'Badoni',
  password: '12345',
  gender: 'Male',
  user_email: 'jitender@gmail.com',
  user_role: '1',
  country_code: '12',
  state_code: '12',
  city_code: '12',
  postal_code: '12',
  user_name: 'abcde' }

info [Sun Feb 11 2018 23:10:10 GMT+0530 (India Standard Time)]  URL :  /api/user/registration
info [Sun Feb 11 2018 23:10:10 GMT+0530 (India Standard Time)]  Method :  POST
info [Sun Feb 11 2018 23:10:10 GMT+0530 (India Standard Time)]  Header :  { host: 'localhost:7000',
  'content-type': 'application/x-www-form-urlencoded',
  'content-length': '170' }
info [Sun Feb 11 2018 23:10:10 GMT+0530 (India Standard Time)]  Params :  {}
info [Sun Feb 11 2018 23:10:10 GMT+0530 (India Standard Time)]  Registration Initiated : 
info [Sun Feb 11 2018 23:10:10 GMT+0530 (India Standard Time)]  { fname: 'JItender',
  lname: 'Badoni',
  password: '12345',
  gender: 'Male',
  user_email: 'jitender@gmail.com',
  user_role: '1',
  country_code: '12',
  state_code: '12',
  city_code: '12',
  postal_code: '12',
  user_name: 'abcde' }
info [Sun Feb 11 2018 23:11:17 GMT+0530 (India Standard Time)]  URL :  /api/user/registration
info [Sun Feb 11 2018 23:11:17 GMT+0530 (India Standard Time)]  Method :  POST
info [Sun Feb 11 2018 23:11:17 GMT+0530 (India Standard Time)]  Header :  { host: 'localhost:7000',
  'content-type': 'application/x-www-form-urlencoded',
  'content-length': '170' }
info [Sun Feb 11 2018 23:11:17 GMT+0530 (India Standard Time)]  Params :  {}
info [Sun Feb 11 2018 23:11:17 GMT+0530 (India Standard Time)]  Registration Initiated : 
info [Sun Feb 11 2018 23:11:17 GMT+0530 (India Standard Time)]  { fname: 'JItender',
  lname: 'Badoni',
  password: '12345',
  gender: 'Male',
  user_email: 'jitender@gmail.com',
  user_role: '1',
  country_code: '12',
  state_code: '12',
  city_code: '12',
  postal_code: '12',
  user_name: 'abcde' }

info [Sun Feb 11 2018 23:11:23 GMT+0530 (India Standard Time)]  URL :  /api/user/registration
info [Sun Feb 11 2018 23:11:23 GMT+0530 (India Standard Time)]  Method :  POST
info [Sun Feb 11 2018 23:11:23 GMT+0530 (India Standard Time)]  Header :  { host: 'localhost:7000',
  'content-type': 'application/x-www-form-urlencoded',
  'content-length': '170' }
info [Sun Feb 11 2018 23:11:23 GMT+0530 (India Standard Time)]  Params :  {}
info [Sun Feb 11 2018 23:11:23 GMT+0530 (India Standard Time)]  Registration Initiated : 
info [Sun Feb 11 2018 23:11:23 GMT+0530 (India Standard Time)]  { fname: 'JItender',
  lname: 'Badoni',
  password: '12345',
  gender: 'Male',
  user_email: 'jitender@gmail.com',
  user_role: '1',
  country_code: '12',
  state_code: '12',
  city_code: '12',
  postal_code: '12',
  user_name: 'abcde' }
info [Sun Feb 11 2018 23:13:21 GMT+0530 (India Standard Time)]  URL :  /api/user/registration
info [Sun Feb 11 2018 23:13:21 GMT+0530 (India Standard Time)]  Method :  POST
info [Sun Feb 11 2018 23:13:21 GMT+0530 (India Standard Time)]  Header :  { host: 'localhost:7000',
  'content-type': 'application/x-www-form-urlencoded',
  'content-length': '170' }
info [Sun Feb 11 2018 23:13:21 GMT+0530 (India Standard Time)]  Params :  {}
info [Sun Feb 11 2018 23:13:21 GMT+0530 (India Standard Time)]  Registration Initiated : 
info [Sun Feb 11 2018 23:13:21 GMT+0530 (India Standard Time)]  { fname: 'JItender',
  lname: 'Badoni',
  password: '12345',
  gender: 'Male',
  user_email: 'jitender@gmail.com',
  user_role: '1',
  country_code: '12',
  state_code: '12',
  city_code: '12',
  postal_code: '12',
  user_name: 'abcde' }
info [Sun Feb 11 2018 23:15:22 GMT+0530 (India Standard Time)]  URL :  /api/user/registration
info [Sun Feb 11 2018 23:15:22 GMT+0530 (India Standard Time)]  Method :  POST
info [Sun Feb 11 2018 23:15:22 GMT+0530 (India Standard Time)]  Header :  { host: 'localhost:7000',
  'content-type': 'application/x-www-form-urlencoded',
  'content-length': '170' }
info [Sun Feb 11 2018 23:15:22 GMT+0530 (India Standard Time)]  Params :  {}
info [Sun Feb 11 2018 23:15:22 GMT+0530 (India Standard Time)]  Registration Initiated : 
info [Sun Feb 11 2018 23:15:22 GMT+0530 (India Standard Time)]  { fname: 'JItender',
  lname: 'Badoni',
  password: '12345',
  gender: 'Male',
  user_email: 'jitender@gmail.com',
  user_role: '1',
  country_code: '12',
  state_code: '12',
  city_code: '12',
  postal_code: '12',
  user_name: 'abcde' }
info [Sun Feb 11 2018 23:24:47 GMT+0530 (India Standard Time)]  URL :  /api/user/registration
info [Sun Feb 11 2018 23:24:47 GMT+0530 (India Standard Time)]  Method :  POST
info [Sun Feb 11 2018 23:24:47 GMT+0530 (India Standard Time)]  Header :  { host: 'localhost:7000',
  'content-type': 'application/x-www-form-urlencoded',
  'content-length': '170' }
info [Sun Feb 11 2018 23:24:47 GMT+0530 (India Standard Time)]  Params :  {}
info [Sun Feb 11 2018 23:24:47 GMT+0530 (India Standard Time)]  Registration Initiated : 
info [Sun Feb 11 2018 23:24:47 GMT+0530 (India Standard Time)]  { fname: 'JItender',
  lname: 'Badoni',
  password: '12345',
  gender: 'Male',
  user_email: 'jitender@gmail.com',
  user_role: '1',
  country_code: '12',
  state_code: '12',
  city_code: '12',
  postal_code: '12',
  user_name: 'abcde' }
info [Sun Feb 11 2018 23:25:00 GMT+0530 (India Standard Time)]  URL :  /api/user/registration
info [Sun Feb 11 2018 23:25:00 GMT+0530 (India Standard Time)]  Method :  POST
info [Sun Feb 11 2018 23:25:00 GMT+0530 (India Standard Time)]  Header :  { host: 'localhost:7000',
  'content-type': 'application/x-www-form-urlencoded',
  'content-length': '152' }
info [Sun Feb 11 2018 23:25:00 GMT+0530 (India Standard Time)]  Params :  {}
info [Sun Feb 11 2018 23:25:00 GMT+0530 (India Standard Time)]  Registration Initiated : 
info [Sun Feb 11 2018 23:25:00 GMT+0530 (India Standard Time)]  { fname: 'JItender',
  lname: 'Badoni',
  password: '12345',
  gender: 'Male',
  user_email: 'jitender@gmail.com',
  user_role: '1',
  country_code: '12',
  state_code: '12',
  city_code: '12',
  postal_code: '' }
info [Sun Feb 11 2018 23:25:07 GMT+0530 (India Standard Time)]  URL :  /api/user/registration
info [Sun Feb 11 2018 23:25:07 GMT+0530 (India Standard Time)]  Method :  POST
info [Sun Feb 11 2018 23:25:07 GMT+0530 (India Standard Time)]  Header :  { host: 'localhost:7000',
  'content-type': 'application/x-www-form-urlencoded',
  'content-length': '144' }
info [Sun Feb 11 2018 23:25:07 GMT+0530 (India Standard Time)]  Params :  {}
info [Sun Feb 11 2018 23:25:07 GMT+0530 (India Standard Time)]  Registration Initiated : 
info [Sun Feb 11 2018 23:25:07 GMT+0530 (India Standard Time)]  { fname: '',
  lname: 'Badoni',
  password: '12345',
  gender: 'Male',
  user_email: 'jitender@gmail.com',
  user_role: '1',
  country_code: '12',
  state_code: '12',
  city_code: '12',
  postal_code: '' }

info [Sun Feb 11 2018 23:25:18 GMT+0530 (India Standard Time)]  URL :  /api/user/registration
info [Sun Feb 11 2018 23:25:18 GMT+0530 (India Standard Time)]  Method :  POST
info [Sun Feb 11 2018 23:25:18 GMT+0530 (India Standard Time)]  Header :  { host: 'localhost:7000',
  'content-type': 'application/x-www-form-urlencoded',
  'content-length': '144' }
info [Sun Feb 11 2018 23:25:18 GMT+0530 (India Standard Time)]  Params :  {}
info [Sun Feb 11 2018 23:25:18 GMT+0530 (India Standard Time)]  Registration Initiated : 
info [Sun Feb 11 2018 23:25:18 GMT+0530 (India Standard Time)]  { fname: '',
  lname: 'Badoni',
  password: '12345',
  gender: 'Male',
  user_email: 'jitender@gmail.com',
  user_role: '1',
  country_code: '12',
  state_code: '12',
  city_code: '12',
  postal_code: '' }
info [Sun Feb 11 2018 23:25:30 GMT+0530 (India Standard Time)]  URL :  /api/user/registration
info [Sun Feb 11 2018 23:25:30 GMT+0530 (India Standard Time)]  Method :  POST
info [Sun Feb 11 2018 23:25:30 GMT+0530 (India Standard Time)]  Header :  { host: 'localhost:7000',
  'content-type': 'application/x-www-form-urlencoded',
  'content-length': '152' }
info [Sun Feb 11 2018 23:25:30 GMT+0530 (India Standard Time)]  Params :  {}
info [Sun Feb 11 2018 23:25:30 GMT+0530 (India Standard Time)]  Registration Initiated : 
info [Sun Feb 11 2018 23:25:30 GMT+0530 (India Standard Time)]  { fname: 'Jitender',
  lname: 'Badoni',
  password: '12345',
  gender: 'Male',
  user_email: 'jitender@gmail.com',
  user_role: '1',
  country_code: '12',
  state_code: '12',
  city_code: '12',
  postal_code: '' }
info [Sun Feb 11 2018 23:25:39 GMT+0530 (India Standard Time)]  URL :  /api/user/registration
info [Sun Feb 11 2018 23:25:39 GMT+0530 (India Standard Time)]  Method :  POST
info [Sun Feb 11 2018 23:25:39 GMT+0530 (India Standard Time)]  Header :  { host: 'localhost:7000',
  'content-type': 'application/x-www-form-urlencoded',
  'content-length': '157' }
info [Sun Feb 11 2018 23:25:39 GMT+0530 (India Standard Time)]  Params :  {}
info [Sun Feb 11 2018 23:25:39 GMT+0530 (India Standard Time)]  Registration Initiated : 
info [Sun Feb 11 2018 23:25:39 GMT+0530 (India Standard Time)]  { fname: 'Jitender',
  lname: 'Badoni',
  password: '12345',
  gender: 'Male',
  user_email: 'jitender@gmail.com',
  user_role: '1',
  country_code: '12',
  state_code: '12',
  city_code: '12',
  postal_code: '12333' }
